{"remainingRequest":"D:\\Desktop\\InterConnect\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Desktop\\InterConnect\\web\\src\\views\\user\\Q&A\\createQ&Alist.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Desktop\\InterConnect\\web\\src\\views\\user\\Q&A\\createQ&Alist.vue","mtime":1641975356000},{"path":"D:\\Desktop\\InterConnect\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Desktop\\InterConnect\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Desktop\\InterConnect\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Desktop\\InterConnect\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGFnZWxpc3RxdWVyeTogewogICAgICAgIHRvdGFsOiAwLAogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgcGFnZXNpemU6IDEwCiAgICAgIH0sCiAgICAgIHRhYmxlRGF0YTogW10KICAgIH07CiAgfSwKICBmaWx0ZXJzOiB7CiAgICBzdGF0ZWZpbHRlcihzdGF0ZSkgewogICAgICBpZiAoc3RhdGUgPT0gMSkgewogICAgICAgIHJldHVybiAi5a6h5qC46YCa6L+HIjsKICAgICAgfQogICAgICBpZiAoc3RhdGUgPT0gMCkgewogICAgICAgIHJldHVybiAi5q2j5Zyo5a6h5qC4IjsKICAgICAgfQogICAgICBpZiAoc3RhdGUgPT0gLTEpIHsKICAgICAgICByZXR1cm4gIuWuoeaguOacqumAmui/hyI7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGRlbChoZWxwX2lkKSB7CiAgICAgIGNvbnNvbGUubG9nKGhlbHBfaWQpOwogICAgICBsZXQgcmVzID0gYXdhaXQgdGhpcy4kYXhpb3MucG9zdCgKICAgICAgICAiL3dlYmFkbWluL2RlbGV0ZWhlbHAiLAogICAgICAgIHRoaXMucXMuc3RyaW5naWZ5KHsgaGVscF9pZDogaGVscF9pZCB9KQogICAgICApOwogICAgICBpZiAocmVzLmRhdGEuc3RhdGUudHlwZSA9PT0gIlNVQ0NFU1MiKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLliKDpmaTmiJDlip8iKTsKICAgICAgICB0aGlzLmdldGhlbHBsaXN0KCk7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLnBhZ2VsaXN0cXVlcnkucGFnZXNpemUgPSB2YWw7CiAgICAgIHRoaXMuZ2V0aGVscGxpc3QoKTsKICAgICAgY29uc29sZS5sb2coYOavj+mhtSAke3ZhbH0g5p2hYCk7CiAgICB9LAogICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5wYWdlbGlzdHF1ZXJ5LnBhZ2UgPSB2YWw7CiAgICAgIHRoaXMuZ2V0aGVscGxpc3QoKTsKICAgICAgY29uc29sZS5sb2coYOW9k+WJjemhtTogJHt2YWx9YCk7CiAgICB9LAogICAgYXN5bmMgZ2V0aGVscGxpc3QoKSB7CiAgICAgIGxldCBkYXRhID0gewogICAgICAgIHBhZ2U6IHRoaXMucGFnZWxpc3RxdWVyeS5wYWdlLAogICAgICAgIHBhZ2VzaXplOiB0aGlzLnBhZ2VsaXN0cXVlcnkucGFnZXNpemUKICAgICAgfTsKICAgICAgbGV0IHJlcyA9IGF3YWl0IHRoaXMuJGF4aW9zLnBvc3QoCiAgICAgICAgIi93ZWJhZG1pbi9nZXR3ZWJoZWxwbGlzdCIsCiAgICAgICAgdGhpcy5xcy5zdHJpbmdpZnkoZGF0YSkKICAgICAgKTsKICAgICAgaWYgKHJlcy5kYXRhLnN0YXRlLnR5cGUgPT09ICJTVUNDRVNTIikgewogICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgdGhpcy5wYWdlbGlzdHF1ZXJ5LnRvdGFsID0gcmVzLmRhdGEuY291bnQ7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldGhlbHBsaXN0KCk7CiAgfQp9Owo="},{"version":3,"sources":["createQ&Alist.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"createQ&Alist.vue","sourceRoot":"src/views/user/Q&A","sourcesContent":["<template>\n  <div class=\"createhelplist\">\n    <div class=\"title\">\n      <div >\n        <h2>交流信息</h2>\n      </div>\n      <div >\n        <el-button\n          type=\"text\"\n          icon=\"el-icon-plus\"\n          @click=\"$router.push('/admin/createhelp') \"\n        >发布交流信息</el-button>\n      </div>\n    </div>\n    <el-table :data=\"tableData\" border style=\"width: 100%\">\n      <el-table-column fixed prop=\"createtime\" label=\"日期\">\n        <template slot-scope=\"scope\">{{ scope.row.createtime | dataFormat }}</template>\n      </el-table-column>\n      <el-table-column prop=\"help_title\" label=\"标题\"></el-table-column>\n      <el-table-column prop=\"help_lable\" label=\"分类\"></el-table-column>\n      <el-table-column fixed prop=\"help_state\" label=\"状态\">\n        <template slot-scope=\"scope\">{{ scope.row.ispublic |statefilter}}</template>\n      </el-table-column>\n      <el-table-column fixed=\"right\" label=\"操作\" width=\"100\">\n        <template slot-scope=\"scope\">\n          <el-button\n            @click=\"$router.push(`/admin/updatehelp/${scope.row.help_id}`) \"\n            type=\"text\"\n            size=\"small\"\n          >编辑</el-button>\n          <el-button type=\"text\" size=\"small\" @click=\"del(scope.row.help_id)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-pagination\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n      :page-sizes=\"[10, 20, 50, 100]\"\n      :page-size=\"pagelistquery.pagesize\"\n      layout=\"total, sizes, prev, pager, next, jumper\"\n      :total=\"pagelistquery.total\"\n    ></el-pagination>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      pagelistquery: {\n        total: 0,\n        page: 1,\n        pagesize: 10\n      },\n      tableData: []\n    };\n  },\n  filters: {\n    statefilter(state) {\n      if (state == 1) {\n        return \"审核通过\";\n      }\n      if (state == 0) {\n        return \"正在审核\";\n      }\n      if (state == -1) {\n        return \"审核未通过\";\n      }\n    }\n  },\n  methods: {\n    async del(help_id) {\n      console.log(help_id);\n      let res = await this.$axios.post(\n        \"/webadmin/deletehelp\",\n        this.qs.stringify({ help_id: help_id })\n      );\n      if (res.data.state.type === \"SUCCESS\") {\n        this.$message.success(\"删除成功\");\n        this.gethelplist();\n      }\n    },\n    handleSizeChange(val) {\n      this.pagelistquery.pagesize = val;\n      this.gethelplist();\n      console.log(`每页 ${val} 条`);\n    },\n    handleCurrentChange(val) {\n      this.pagelistquery.page = val;\n      this.gethelplist();\n      console.log(`当前页: ${val}`);\n    },\n    async gethelplist() {\n      let data = {\n        page: this.pagelistquery.page,\n        pagesize: this.pagelistquery.pagesize\n      };\n      let res = await this.$axios.post(\n        \"/webadmin/getwebhelplist\",\n        this.qs.stringify(data)\n      );\n      if (res.data.state.type === \"SUCCESS\") {\n        this.tableData = res.data.data;\n        console.log(res.data);\n        this.pagelistquery.total = res.data.count;\n      }\n    }\n  },\n  created() {\n    this.gethelplist();\n  }\n};\n</script>\n<style lang=\"stylus\" scoped></style>"]}]}