{"remainingRequest":"D:\\Desktop\\InterConnect\\web\\node_modules\\babel-loader\\lib\\index.js!D:\\Desktop\\InterConnect\\web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Desktop\\InterConnect\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Desktop\\InterConnect\\web\\src\\views\\user\\notice.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Desktop\\InterConnect\\web\\src\\views\\user\\notice.vue","mtime":1717936862382},{"path":"D:\\Desktop\\InterConnect\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Desktop\\InterConnect\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Desktop\\InterConnect\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Desktop\\InterConnect\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwU3RhdGUsIG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJub3RpY2UiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YWJsZURhdGE6ICIiLAogICAgICBudW06IDAKICAgIH07CiAgfSwKICBmaWx0ZXJzOiB7CiAgICBwbGF0ZW5hbWU6IGZ1bmN0aW9uIHBsYXRlbmFtZShyb3V0ZXIpIHsKICAgICAgaWYgKHJvdXRlciA9PSAiaGVscGNvbnRlbnQiKSB7CiAgICAgICAgcmV0dXJuICLpl67nrZQiOwogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoewogICAgdW5yZWFkOiBmdW5jdGlvbiB1bnJlYWQoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnVzZXIudW5yZWFkOwogICAgfSwKICAgIHVybDogZnVuY3Rpb24gdXJsKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51cmw7CiAgICB9CiAgfSkpLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucygidXNlciIsIFsic2V0dW5yZWFkIl0pKSwge30sIHsKICAgIGdldG5vdGljZWxpc3Q6IGZ1bmN0aW9uIGdldG5vdGljZWxpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJGF4aW9zLnBvc3QoIi93ZWIvZ2V0bm90aWNlIiwgX3RoaXMucXMuc3RyaW5naWZ5KHsKICAgICAgICAgICAgICAgICAgbnVtOiAiIgogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0ZS50eXBlID09PSAiU1VDQ0VTUyIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0dW5yZWFkKHJlcy5kYXRhLmRhdGEuY291bnQpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMudGFibGVEYXRhID0gcmVzLmRhdGEuZGF0YS5saXN0OwogICAgICAgICAgICAgICAgICBfdGhpcy5udW0gPSByZXMuZGF0YS5kYXRhLm51bTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIua2iOaBr+WIl+ihqCIpOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy50YWJsZURhdGEgPSByZXMuZGF0YS5kYXRhLmxpc3QpOyAvLyB0aGlzLnBhZ2VsaXN0cXVlcnkudG90YWwgPSByZXMuZGF0YS5jb3VudDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNoYW5nZW5vdGljZTogZnVuY3Rpb24gY2hhbmdlbm90aWNlKGNoYW5nZSwgbm90aWNlX2lkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kYXhpb3MucG9zdCgiL3dlYi9jaGFuZ2Vub3RpY2UiLCBfdGhpczIucXMuc3RyaW5naWZ5KHsKICAgICAgICAgICAgICAgICAgY2hhbmdlOiBjaGFuZ2UsCiAgICAgICAgICAgICAgICAgIG5vdGljZV9pZDogbm90aWNlX2lkCiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0ZS50eXBlID09PSAiU1VDQ0VTUyIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmdldG5vdGljZWxpc3QoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0bm90aWNlbGlzdCgpOwogIH0KfTs="},{"version":3,"sources":["notice.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA,SAAA,QAAA,EAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,GAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,qBACA,MADA,EACA;AACA,UAAA,MAAA,IAAA,aAAA,EAAA;AACA,eAAA,IAAA;AACA;AAEA;AANA,GARA;AAgBA,EAAA,QAAA,oBACA,QAAA,CAAA;AACA,IAAA,MAAA,EAAA,gBAAA,KAAA;AAAA,aAAA,KAAA,CAAA,IAAA,CAAA,MAAA;AAAA,KADA;AAEA,IAAA,GAAA,EAAA,aAAA,KAAA;AAAA,aAAA,KAAA,CAAA,GAAA;AAAA;AAFA,GAAA,CADA,CAhBA;AAsBA,EAAA,OAAA,kCACA,UAAA,CAAA,MAAA,EAAA,CAAA,WAAA,CAAA,CADA;AAEA,IAAA,aAFA,2BAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,MAAA,CAAA,IAAA,CACA,gBADA,EAEA,KAAA,CAAA,EAAA,CAAA,SAAA,CAAA;AAAA,kBAAA,GAAA,EAAA;AAAA,iBAAA,CAFA,CADA;;AAAA;AACA,gBAAA,GADA;;AAKA,oBAAA,GAAA,CAAA,IAAA,CAAA,KAAA,CAAA,IAAA,KAAA,SAAA,EAAA;AACA,kBAAA,KAAA,CAAA,SAAA,CAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA;;AACA,kBAAA,KAAA,CAAA,SAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA;AACA,kBAAA,KAAA,CAAA,GAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,GAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,SAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,EALA,CAMA;AACA;;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA,KAfA;AAgBA,IAAA,YAhBA,wBAgBA,MAhBA,EAgBA,SAhBA,EAgBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,MAAA,CAAA,MAAA,CAAA,IAAA,CACA,mBADA,EAEA,MAAA,CAAA,EAAA,CAAA,SAAA,CAAA;AAAA,kBAAA,MAAA,EAAA,MAAA;AAAA,kBAAA,SAAA,EAAA;AAAA,iBAAA,CAFA,CADA;;AAAA;AACA,gBAAA,GADA;;AAKA,oBAAA,GAAA,CAAA,IAAA,CAAA,KAAA,CAAA,IAAA,KAAA,SAAA,EAAA;AACA,kBAAA,MAAA,CAAA,aAAA;AACA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAxBA,IAtBA;AAgDA,EAAA,OAhDA,qBAgDA;AACA,SAAA,aAAA;AACA;AAlDA,CAAA","sourcesContent":["<template>\n  <div class=\"notice\">\n    <h3>未读消息：{{unread}}/{{num}}</h3>\n    <div style=\"position:relative ;height:30px\">\n      <div class=\"del\">\n        <el-button\n          type=\"text\"\n          icon=\"el-icon-view\"\n          v-if=\"unread!==0\"\n          @click=\"changenotice('changeall','a') \"\n        >全部已读</el-button>\n        <el-button\n          type=\"text\"\n          v-if=\"num!==0\"\n          icon=\"el-icon-delete\"\n          @click=\"changenotice('deleteall','a')\"\n        >全部删除</el-button>\n      </div>\n    </div>\n\n    <el-divider></el-divider>\n    <div v-if=\"num==0\">\n      <img src=\"../../assets/images/noinfo.png\" width=\"100%\" alt />\n      <div style=\"width:100%;text-align:center\">暂无消息通知</div>\n    </div>\n    <div style=\"position:relative\" v-for=\"(notice,id) in tableData\" :key=\"id\">\n      <div\n        style=\"width:10px;height:10px;border-radius:50%;display:inline-block\"\n        :class=\"`state${notice.state}`\"\n      ></div>\n      <span style=\"margin-left:20px\">{{notice.createtime| dataFormat}}</span>\n      <span style=\"margin-left:20px\">{{notice.nickname}}</span>\n      <span style=\"margin-left:20px\">{{notice.action}}</span>\n      <span style=\"margin-left:20px\">\n        来自 {{notice.router| platename}}\n        <a\n          style=\"font-size:20px\"\n          @click=\"changenotice('change',notice.notice_id)\"\n          :href=\"`${url}${notice.router}/${notice.content_id}`\"\n          target=\"_blank\"\n        >{{notice.content_name}}</a>\n      </span>\n      <i class=\"el-icon-delete del\" @click=\"changenotice('delete',notice.notice_id)\"></i>\n      <el-divider></el-divider>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapState, mapActions } from \"vuex\";\nexport default {\n  name: \"notice\",\n  data() {\n    return {\n      tableData: \"\",\n      num: 0\n    };\n  },\n  filters: {\n    platename(router) {\n      if (router == \"helpcontent\") {\n        return \"问答\";\n      }\n      \n    }\n  },\n  computed: {\n    ...mapState({\n      unread: state => state.user.unread,\n      url: state => state.url\n    })\n  },\n  methods: {\n    ...mapActions(\"user\", [\"setunread\"]),\n    async getnoticelist() {\n      let res = await this.$axios.post(\n        \"/web/getnotice\",\n        this.qs.stringify({ num: \"\" })\n      );\n      if (res.data.state.type === \"SUCCESS\") {\n        this.setunread(res.data.data.count);\n        this.tableData = res.data.data.list;\n        this.num = res.data.data.num;\n        console.log(\"消息列表\");\n        console.log((this.tableData = res.data.data.list));\n        // this.pagelistquery.total = res.data.count;\n      }\n    },\n    async changenotice(change, notice_id) {\n      let res = await this.$axios.post(\n        \"/web/changenotice\",\n        this.qs.stringify({ change: change, notice_id: notice_id })\n      );\n      if (res.data.state.type === \"SUCCESS\") {\n        this.getnoticelist();\n      }\n    }\n  },\n  created() {\n    this.getnoticelist();\n  }\n};\n</script>\n<style  scoped>\n.del {\n  position: absolute;\n  right: 40px;\n  top: 4px;\n}\n.state0 {\n  background-color: red;\n}\n</style>\n"],"sourceRoot":"src/views/user"}]}