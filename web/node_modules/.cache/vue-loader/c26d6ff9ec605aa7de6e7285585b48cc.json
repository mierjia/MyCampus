{"remainingRequest":"D:\\Desktop\\InterConnect\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Desktop\\InterConnect\\web\\src\\views\\index.vue?vue&type=style&index=0&id=a83bd3b0&scoped=true&lang=css&","dependencies":[{"path":"D:\\Desktop\\InterConnect\\web\\src\\views\\index.vue","mtime":1718073816036},{"path":"D:\\Desktop\\InterConnect\\web\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Desktop\\InterConnect\\web\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\Desktop\\InterConnect\\web\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\Desktop\\InterConnect\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Desktop\\InterConnect\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouaGVhZGVyLWJ0biB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzJjNjk2ZDsKICBmb250LXNpemU6IDE0cHg7CiAgbGluZS1oZWlnaHQ6IDE5cHg7CiAgZm9udC13ZWlnaHQ6IDYwMDsKICBwYWRkaW5nOiAxNHB4IDMwcHggMTVweDsKICBjb2xvcjogI2ZmZjsKICBkaXNwbGF5OiB0YWJsZTsKICBtYXJnaW46IDAgYXV0bzsKfQojbWFzayB7CiAgcG9zaXRpb246IGZpeGVkOwogIHotaW5kZXg6IDk5OTsKICB0b3A6IDA7CiAgbGVmdDogMDsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgYmFja2dyb3VuZDogIzAwMDsKICBmaWx0ZXI6IGFscGhhKE9wYWNpdHk9MzApOwogIG9wYWNpdHk6IDAuMjsKICBtYXJnaW46IDA7CiAgLyogZGlzcGxheTogbm9uZTsgICovCn0KI2xvZ2luQm94IHsKICBwb3NpdGlvbjogZml4ZWQ7CiAgbGVmdDogNTAlOyAvKiDlrprkvY3niLbnuqfnmoQ1MCUgKi8KICB0b3A6IDUwJTsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTsgLyroh6rlt7HnmoQ1MCUgKi8KICB6LWluZGV4OiAxMDAwOwogIHdpZHRoOiAzODBweDsKICBoZWlnaHQ6IDMzMHB4OwogIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKICAvKiBkaXNwbGF5OiBub25lOyAgKi8KfQojbG9naW5Cb3ggaDIgewogIGhlaWdodDogNDBweDsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgbGluZS1oZWlnaHQ6IDQwcHg7CiAgZm9udC1zaXplOiAxNHB4OwogIGxldHRlci1zcGFjaW5nOiAxcHg7CiAgY29sb3I6ICM2NjY7CiAgLyogYmFja2dyb3VuZDogdXJsKC4uL2ltYWdlcy9sb2dpbl9oZWFkZXIucG5nKSByZXBlYXQteDsgKi8KICBtYXJnaW46IDA7CiAgcGFkZGluZzogMDsKICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2NjYzsKICBtYXJnaW46IDAgMCAyMHB4IDA7Cn0KI2xvZ2luQm94IGgyIGltZyB7CiAgZGlzcGxheTogYmxvY2s7CiAgZmxvYXQ6IHJpZ2h0OwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICB0b3A6IDEwcHg7CiAgcmlnaHQ6IDEwcHg7CiAgY3Vyc29yOiBwb2ludGVyOwp9CiNsb2dpbkJveCAudXNlciwKI2xvZ2luQm94IC5wYXNzIHsKICBmb250LXNpemU6IDE0cHg7CiAgY29sb3I6ICM2NjY7CiAgcGFkZGluZzogNXB4IDA7CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9CiNsb2dpbkJveCBpbnB1dC50ZXh0IHsKICB3aWR0aDogMjAwcHg7CiAgaGVpZ2h0OiAyNXB4OwogIGZvbnQtc2l6ZTogMTRweDsKICBib3JkZXI6IDFweCBzb2xpZCAjY2NjOwogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7Cn0KI2xvZ2luQm94IC5idXR0b24gewogIHRleHQtYWxpZ246IGNlbnRlcjsKICBwYWRkaW5nOiAxMHB4IDA7Cn0KI2xvZ2luQm94IGlucHV0LnN1Ym1pdCB7CiAgd2lkdGg6IDEwN3B4OwogIGhlaWdodDogMzBweDsKICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTAyLCAxOTAsIDEzOSk7CiAgYm9yZGVyOiBub25lOwogIGN1cnNvcjogcG9pbnRlcjsKfQojbG9naW5Cb3ggLm90aGVyIHsKICB0ZXh0LWFsaWduOiByaWdodDsKICBwYWRkaW5nOiAxNXB4IDEwcHg7CiAgZm9udC1zaXplOiAxNHB4OwogIGNvbG9yOiAjNjY2OwoKICBjdXJzb3I6IHBvaW50ZXI7Cn0KLmljb25mb250IHsKICBmb250LXNpemU6IDIwcHg7CiAgY29sb3I6ICMwMDA7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHJpZ2h0OiAxMHB4OwogIHRvcDogMTBweDsKICBjdXJzb3I6IHBvaW50ZXI7Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0WA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"index\">\n    <!-- Start of Header -->\n    <div class=\"header-wrapper\">\n      <header>\n        <div class=\"container\">\n          <div class=\"logo-container\">\n            <!-- Website Logo -->\n            <span style=\"font-size: 35px;color: white;\"></span>\n            <span class=\"tag-line\" style=\"font-size: 20px\"\n              >InterConnect————校园信息综合平台</span\n            >\n          </div>\n          <!-- Start of Main Navigation -->\n          <nav class=\"main-nav\">\n            <div class=\"menu-top-menu-container\">\n              <ul id=\"menu-top-menu\" class=\"clearfix\">\n                <router-link\n                  to=\"/\"\n                  tag=\"li\"\n                  exact-active-class=\"current-menu-item\"\n                >\n                  <a>首页</a>\n                </router-link>\n                <router-link\n                  to=\"/activity\"\n                  tag=\"li\"\n                  exact-active-class=\"current-menu-item\"\n                >\n                  <a>活动</a>\n                </router-link>\n\n\n                <router-link\n                  to=\"/help\"\n                  tag=\"li\"\n                  exact-active-class=\"current-menu-item\"\n                >\n                  <a>地图气泡</a>\n                </router-link>\n                \n                \n\n                <li v-if=\"avatar == ''\">\n                  <a @click=\"closein\">登录/注册</a>\n                </li>\n                <el-dropdown v-else>\n                  <a style=\"color: #c1cad1;\">\n                    <img\n                      v-if=\"unread == 0\"\n                      style=\"     height: 20px; \"\n                      :src=\"avatar\"\n                      class=\"avatar touxiang avatar-60 photo\"\n                      height=\"20\"\n                      width=\"20\"\n                    />\n                    <el-badge v-else :value=\"unread\" class=\"item\">\n                      <img\n                        style=\"     height: 20px; \"\n                        :src=\"avatar\"\n                        class=\"avatar touxiang avatar-60 photo\"\n                        height=\"20\"\n                        width=\"20\"\n                      />\n                    </el-badge>\n                    {{ nickname }}\n                  </a>\n                  <el-dropdown-menu slot=\"dropdown\">\n                    <el-dropdown-item>\n                      <router-link\n                        to=\"/admin/myself\"\n                        tag=\"a\"\n                        exact-active-class=\"current-menu-item\"\n                        >个人中心</router-link\n                      >\n                    </el-dropdown-item>\n\n                    <el-dropdown-item>\n                      <router-link\n                        to=\"/admin/notice\"\n                        tag=\"li\"\n                        exact-active-class=\"current-menu-item\"\n                      >\n                        <a v-if=\"unread == 0\">消息中心</a>\n                        <el-badge v-else :value=\"unread\" class=\"item\">\n                          <a>消息中心</a>\n                        </el-badge>\n                      </router-link>\n                    </el-dropdown-item>\n                    <el-dropdown-item>\n                      <a @click=\"logout\">退出登录</a>\n                    </el-dropdown-item>\n                  </el-dropdown-menu>\n                </el-dropdown>\n                <!-- <router-link to=\"/admin/notice\" tag=\"li\" exact-active-class=\"current-menu-item\">\n                  <el-button v-if=\"unread==0\" size=\"mini\" type=\"info\" icon=\"el-icon-bell\" circle></el-button>\n                  <el-badge v-else :value=\"unread\" class=\"item\">\n                    <img\n                      style=\"     height: 20px; \"\n                      :src=\"avatar\"\n                      class=\"avatar touxiang avatar-60 photo\"\n                      height=\"20\"\n                      width=\"20\"\n                    />\n                  </el-badge>\n                </router-link>-->\n              </ul>\n            </div>\n            <select\n              v-model=\"selected\"\n              @change=\"changeHref(parseInt(selected))\"\n              class=\"responsive-nav\"\n            >\n              <option value=\"1\">首页</option>\n              <option value=\"2\">问答</option>\n              <option value=\"3\">活动</option>\n              \n              <option value=\"4\">登录/注册</option>\n            </select>\n          </nav>\n          <!-- End of Main Navigation -->\n        </div>\n      </header>\n    </div>\n    <!-- End of Header -->\n    <router-view />\n    <!-- start of foot -->\n    <foot />\n    <!-- end of foot -->\n    <!-- 弹窗组件 -->\n\n    <div class=\"login\" v-if=\"isclose\">\n      <div id=\"mask\"></div>\n      <div id=\"loginBox\">\n        <h2>{{ islogin ? '网站登录' : '新用户注册' }}</h2>\n        <div class=\"user\">\n          账 号：\n          <input type=\"text\" v-model=\"username\" name=\"username\" class=\"text\" />\n        </div>\n        <div class=\"pass\">\n          密 码：\n          <input\n            type=\"password\"\n            v-model=\"password\"\n            name=\"password\"\n            class=\"text\"\n          />\n        </div>\n        <div class=\"pass\" v-if=\"!islogin\">\n          确 认：\n          <input\n            type=\"password\"\n            v-model=\"password1\"\n            name=\"password\"\n            class=\"text\"\n          />\n        </div>\n        <div class=\"button\" v-if=\"islogin\">\n          <input type=\"button\" @click=\"login\" value=\"登录\" class=\"submit\" />\n        </div>\n        <div class=\"button\" v-else>\n          <input\n            type=\"button\"\n            value=\"注册\"\n            @click=\"registered\"\n            class=\"submit\"\n          />\n        </div>\n        <div class=\"other\" @click=\"join\">\n          {{ islogin ? '注册新用户' : '登录' }}\n        </div>\n        <a class=\"iconfont\" @click=\"close\">&#xe608;</a>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex'\nimport moment from 'moment'\n\nexport default {\n  name: 'index',\n  components: {\n\n  },\n  data() {\n    return {\n      selected: 1,\n      password: '',\n      password1: '',\n      username: '',\n      hover: false,\n      search: ''\n    }\n  },\n  computed: {\n    ...mapState({\n      isclose: state => state.user.isclose,\n      islogin: state => state.user.islogin,\n      avatar: state => state.user.userinfo.avatar,\n      nickname: state => state.user.userinfo.nickname,\n      unread: state => state.user.unread\n    })\n  },\n  methods: {\n    ...mapActions('user', [\n      'setUserInfo',\n      'changeislog',\n      'setToken',\n      'join',\n      'close',\n      'setunread',\n      'deleteuserinfo'\n    ]),\n    //个人hover弹窗\n    overShow() {\n      this.hover = !this.hover\n    },\n    changeHref(sortnum) {\n      switch (sortnum) {\n        case 1:\n          this.$router.push({ path: '/' })\n          break\n        case 2:\n          this.$router.push({ path: '/help' })\n          break\n        case 3:\n          this.$router.push({ path: '/activity' })\n          break\n       \n        case 6:\n          this.close()\n          break\n      }\n    },\n    //退出登录\n    logout() {\n      this.deleteuserinfo()\n      this.$message.success('退出成功')\n      // window.location.reload();\n    },\n    joinin() {\n      this.join()\n    },\n    closein() {\n      this.close()\n    },\n    onSubmit() {\n      return false\n    },\n    searchbtn() {\n      if (this.search == '') {\n        this.$message.error('关键字不能为空')\n        return\n      }\n      this.$router.push({ path: '/search', query: { search: this.search } })\n    },\n    registered() {\n      const userReg = /^[1-9a-zA-Z]{1}[0-9a-zA-Z]{5,9}$/ //6-10位字母数字\n      const pwdReg = /^[a-zA-Z]\\w{5,17}$/ //6-18位字母数字下划线 字母开头\n      if (!userReg.test(this.username)) {\n        this.$message.error('账号为6-10位字母数字字母')\n        return\n      }\n      if (!pwdReg.test(this.password)) {\n        this.$message.error('密码为6-18位字母数字或下划线 字母开头')\n        return\n      }\n      if (this.password !== this.password1) {\n        this.$message.error('两次密码不相等')\n        return\n      }\n      let obj = {\n        password: this.password,\n        username: this.username\n      }\n      this.$axios({\n        url: '/webadmin/registered',\n        method: 'POST',\n        //  headers:{\n        //    'Content-Type':'application/x-www-form-urlencoded',\n        //    'Authorization': 'Bearer ' + window.localStorage.getItem('luffy_jwt_token')\n        //    },\n        data: this.qs.stringify(obj)\n      })\n        .then(res => {\n          let data = res.data\n          if (data.state.type !== 'SUCCESS') {\n            if (data.state.type == 'ERROR_PARAMS_EXIST') {\n              this.$message.error('用户名重复')\n            } else {\n              this.$message.error('注册失败')\n            }\n            return\n          }\n          this.$message.success('注册成功请登录')\n          this.join()\n        })\n        .catch(e => {\n          this.$message.error(e)\n        })\n    },\n    //登录\n    login() {\n      if (this.password == '' || this.password == '') {\n        this.$message.error('账号或者密码为空')\n        return\n      }\n      // this.pwdhash = crypto\n      //   .createHash(\"sha1\")\n      //   .update(this.password)\n      //   .digest(\"hex\");\n      // let this_ = this;\n      let obj = {\n        password: this.password,\n        username: this.username,\n        type: ''\n      }\n      this.$axios({\n        url: '/webadmin/login',\n        method: 'POST',\n        data: this.qs.stringify(obj)\n      })\n        .then(res => {\n          let data = res.data.data\n          if (res.data.state.type === 'SUCCESS') {\n            this.$message.success('登录成功')\n            // this.$store.user.dispatch(\"setUserInfo\", data)\n            this.setUserInfo(data.userinfo)\n            this.setToken(data.token)\n            this.changeislog()\n            console.log(data)\n            this.close()\n          }\n          if (res.data.state === 's') {\n            let time = moment(res.data.data).format('YYYY-MM-DD HH:mm')\n            this.$message.error(`您的账号由于不良行为被限制登录至${time}`)\n          }\n          if (res.data.state.type === 'ERROE')\n            this.$message.error('用户名或密码错误')\n        })\n        .catch(e => {\n          this.$message(e)\n        })\n    },\n    async getnocitenmu() {\n      const res = await this.$axios.post(\n        '/web/getnotice',\n        this.qs.stringify({ num: 1 })\n      )\n      console.log(res.data)\n      this.setunread(res.data.data.count)\n    }\n  },\n  created() {\n    localStorage.luffy_jwt_token && this.getnocitenmu()\n  }\n}\n</script>\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.header-btn {\n  background-color: #2c696d;\n  font-size: 14px;\n  line-height: 19px;\n  font-weight: 600;\n  padding: 14px 30px 15px;\n  color: #fff;\n  display: table;\n  margin: 0 auto;\n}\n#mask {\n  position: fixed;\n  z-index: 999;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: #000;\n  filter: alpha(Opacity=30);\n  opacity: 0.2;\n  margin: 0;\n  /* display: none;  */\n}\n#loginBox {\n  position: fixed;\n  left: 50%; /* 定位父级的50% */\n  top: 50%;\n  transform: translate(-50%, -50%); /*自己的50% */\n  z-index: 1000;\n  width: 380px;\n  height: 330px;\n  border: 1px solid #ccc;\n  background-color: #fff;\n  /* display: none;  */\n}\n#loginBox h2 {\n  height: 40px;\n  text-align: center;\n  line-height: 40px;\n  font-size: 14px;\n  letter-spacing: 1px;\n  color: #666;\n  /* background: url(../images/login_header.png) repeat-x; */\n  margin: 0;\n  padding: 0;\n  border-bottom: 1px solid #ccc;\n  margin: 0 0 20px 0;\n}\n#loginBox h2 img {\n  display: block;\n  float: right;\n  position: relative;\n  top: 10px;\n  right: 10px;\n  cursor: pointer;\n}\n#loginBox .user,\n#loginBox .pass {\n  font-size: 14px;\n  color: #666;\n  padding: 5px 0;\n  text-align: center;\n}\n#loginBox input.text {\n  width: 200px;\n  height: 25px;\n  font-size: 14px;\n  border: 1px solid #ccc;\n  background-color: #fff;\n}\n#loginBox .button {\n  text-align: center;\n  padding: 10px 0;\n}\n#loginBox input.submit {\n  width: 107px;\n  height: 30px;\n  background-color: rgb(102, 190, 139);\n  border: none;\n  cursor: pointer;\n}\n#loginBox .other {\n  text-align: right;\n  padding: 15px 10px;\n  font-size: 14px;\n  color: #666;\n\n  cursor: pointer;\n}\n.iconfont {\n  font-size: 20px;\n  color: #000;\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  cursor: pointer;\n}\n</style>\n"]}]}