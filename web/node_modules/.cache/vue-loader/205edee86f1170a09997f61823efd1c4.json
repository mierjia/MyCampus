{"remainingRequest":"E:\\download\\InterConnect\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\download\\InterConnect\\web\\src\\views\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\download\\InterConnect\\web\\src\\views\\index.vue","mtime":1728637460637},{"path":"E:\\download\\InterConnect\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\download\\InterConnect\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\download\\InterConnect\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\download\\InterConnect\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnDQppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCcNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnaW5kZXgnLA0KICBjb21wb25lbnRzOiB7DQoNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgc2VsZWN0ZWQ6IDEsDQogICAgICBwYXNzd29yZDogJycsDQogICAgICBwYXNzd29yZDE6ICcnLA0KICAgICAgdXNlcm5hbWU6ICcnLA0KICAgICAgaG92ZXI6IGZhbHNlLA0KICAgICAgc2VhcmNoOiAnJw0KICAgIH0NCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBTdGF0ZSh7DQogICAgICBpc2Nsb3NlOiBzdGF0ZSA9PiBzdGF0ZS51c2VyLmlzY2xvc2UsDQogICAgICBpc2xvZ2luOiBzdGF0ZSA9PiBzdGF0ZS51c2VyLmlzbG9naW4sDQogICAgICBhdmF0YXI6IHN0YXRlID0+IHN0YXRlLnVzZXIudXNlcmluZm8uYXZhdGFyLA0KICAgICAgbmlja25hbWU6IHN0YXRlID0+IHN0YXRlLnVzZXIudXNlcmluZm8ubmlja25hbWUsDQogICAgICB1bnJlYWQ6IHN0YXRlID0+IHN0YXRlLnVzZXIudW5yZWFkDQogICAgfSkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC4uLm1hcEFjdGlvbnMoJ3VzZXInLCBbDQogICAgICAnc2V0VXNlckluZm8nLA0KICAgICAgJ2NoYW5nZWlzbG9nJywNCiAgICAgICdzZXRUb2tlbicsDQogICAgICAnam9pbicsDQogICAgICAnY2xvc2UnLA0KICAgICAgJ3NldHVucmVhZCcsDQogICAgICAnZGVsZXRldXNlcmluZm8nDQogICAgXSksDQogICAgLy/kuKrkurpob3ZlcuW8ueeqlw0KICAgIG92ZXJTaG93KCkgew0KICAgICAgdGhpcy5ob3ZlciA9ICF0aGlzLmhvdmVyDQogICAgfSwNCiAgICBjaGFuZ2VIcmVmKHNvcnRudW0pIHsNCiAgICAgIHN3aXRjaCAoc29ydG51bSkgew0KICAgICAgICBjYXNlIDE6DQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAnLycgfSkNCiAgICAgICAgICBicmVhaw0KICAgICAgICBjYXNlIDI6DQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAnL2hlbHAnIH0pDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgY2FzZSAzOg0KICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogJy9hY3Rpdml0eScgfSkNCiAgICAgICAgICBicmVhaw0KDQogICAgICAgIGNhc2UgNjoNCiAgICAgICAgICB0aGlzLmNsb3NlKCkNCiAgICAgICAgICBicmVhaw0KICAgICAgfQ0KICAgIH0sDQogICAgLy/pgIDlh7rnmbvlvZUNCiAgICBsb2dvdXQoKSB7DQogICAgICB0aGlzLmRlbGV0ZXVzZXJpbmZvKCkNCiAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn6YCA5Ye65oiQ5YqfJykNCiAgICAgIC8vIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsNCiAgICB9LA0KICAgIGpvaW5pbigpIHsNCiAgICAgIHRoaXMuam9pbigpDQogICAgfSwNCiAgICBjbG9zZWluKCkgew0KICAgICAgdGhpcy5jbG9zZSgpDQogICAgfSwNCiAgICBvblN1Ym1pdCgpIHsNCiAgICAgIHJldHVybiBmYWxzZQ0KICAgIH0sDQogICAgc2VhcmNoYnRuKCkgew0KICAgICAgaWYgKHRoaXMuc2VhcmNoID09ICcnKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WFs+mUruWtl+S4jeiDveS4uuepuicpDQogICAgICAgIHJldHVybg0KICAgICAgfQ0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAnL3NlYXJjaCcsIHF1ZXJ5OiB7IHNlYXJjaDogdGhpcy5zZWFyY2ggfSB9KQ0KICAgIH0sDQogICAgcmVnaXN0ZXJlZCgpIHsNCiAgICAgIGNvbnN0IHVzZXJSZWcgPSAvXlsxLTlhLXpBLVpdezF9WzAtOWEtekEtWl17NSw5fSQvIC8vNi0xMOS9jeWtl+avjeaVsOWtlw0KICAgICAgY29uc3QgcHdkUmVnID0gL15bYS16QS1aXVx3ezUsMTd9JC8gLy82LTE45L2N5a2X5q+N5pWw5a2X5LiL5YiS57q/IOWtl+avjeW8gOWktA0KICAgICAgaWYgKCF1c2VyUmVnLnRlc3QodGhpcy51c2VybmFtZSkpIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6LSm5Y+35Li6Ni0xMOS9jeWtl+avjeaVsOWtl+Wtl+avjScpDQogICAgICAgIHJldHVybg0KICAgICAgfQ0KICAgICAgaWYgKCFwd2RSZWcudGVzdCh0aGlzLnBhc3N3b3JkKSkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCflr4bnoIHkuLo2LTE45L2N5a2X5q+N5pWw5a2X5oiW5LiL5YiS57q/IOWtl+avjeW8gOWktCcpDQogICAgICAgIHJldHVybg0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMucGFzc3dvcmQgIT09IHRoaXMucGFzc3dvcmQxKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4pOasoeWvhueggeS4jeebuOetiScpDQogICAgICAgIHJldHVybg0KICAgICAgfQ0KICAgICAgbGV0IG9iaiA9IHsNCiAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQsDQogICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lDQogICAgICB9DQogICAgICB0aGlzLiRheGlvcyh7DQogICAgICAgIHVybDogJy93ZWJhZG1pbi9yZWdpc3RlcmVkJywNCiAgICAgICAgbWV0aG9kOiAnUE9TVCcsDQogICAgICAgIC8vICBoZWFkZXJzOnsNCiAgICAgICAgLy8gICAgJ0NvbnRlbnQtVHlwZSc6J2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsDQogICAgICAgIC8vICAgICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciAnICsgd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsdWZmeV9qd3RfdG9rZW4nKQ0KICAgICAgICAvLyAgICB9LA0KICAgICAgICBkYXRhOiB0aGlzLnFzLnN0cmluZ2lmeShvYmopDQogICAgICB9KQ0KICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgIGxldCBkYXRhID0gcmVzLmRhdGENCiAgICAgICAgICBpZiAoZGF0YS5zdGF0ZS50eXBlICE9PSAnU1VDQ0VTUycpIHsNCiAgICAgICAgICAgIGlmIChkYXRhLnN0YXRlLnR5cGUgPT0gJ0VSUk9SX1BBUkFNU19FWElTVCcpIHsNCiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign55So5oi35ZCN6YeN5aSNJykNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+azqOWGjOWksei0pScpDQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfms6jlhozmiJDlip/or7fnmbvlvZUnKQ0KICAgICAgICAgIHRoaXMuam9pbigpDQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGUpDQogICAgICAgIH0pDQogICAgfSwNCiAgICAvL+eZu+W9lQ0KICAgIGxvZ2luKCkgew0KICAgICAgaWYgKHRoaXMucGFzc3dvcmQgPT0gJycgfHwgdGhpcy5wYXNzd29yZCA9PSAnJykgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfotKblj7fmiJbogIXlr4bnoIHkuLrnqbonKQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCiAgICAgIC8vIHRoaXMucHdkaGFzaCA9IGNyeXB0bw0KICAgICAgLy8gICAuY3JlYXRlSGFzaCgic2hhMSIpDQogICAgICAvLyAgIC51cGRhdGUodGhpcy5wYXNzd29yZCkNCiAgICAgIC8vICAgLmRpZ2VzdCgiaGV4Iik7DQogICAgICAvLyBsZXQgdGhpc18gPSB0aGlzOw0KICAgICAgbGV0IG9iaiA9IHsNCiAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQsDQogICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lLA0KICAgICAgICB0eXBlOiAnJw0KICAgICAgfQ0KICAgICAgdGhpcy4kYXhpb3Moew0KICAgICAgICB1cmw6ICcvd2ViYWRtaW4vbG9naW4nLA0KICAgICAgICBtZXRob2Q6ICdQT1NUJywNCiAgICAgICAgZGF0YTogdGhpcy5xcy5zdHJpbmdpZnkob2JqKQ0KICAgICAgfSkNCiAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICBsZXQgZGF0YSA9IHJlcy5kYXRhLmRhdGENCiAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdGUudHlwZSA9PT0gJ1NVQ0NFU1MnKSB7DQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+eZu+W9leaIkOWKnycpDQogICAgICAgICAgICAvLyB0aGlzLiRzdG9yZS51c2VyLmRpc3BhdGNoKCJzZXRVc2VySW5mbyIsIGRhdGEpDQogICAgICAgICAgICB0aGlzLnNldFVzZXJJbmZvKGRhdGEudXNlcmluZm8pDQogICAgICAgICAgICB0aGlzLnNldFRva2VuKGRhdGEudG9rZW4pDQogICAgICAgICAgICB0aGlzLmNoYW5nZWlzbG9nKCkNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpDQogICAgICAgICAgICB0aGlzLmNsb3NlKCkNCiAgICAgICAgICB9DQogICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXRlID09PSAncycpIHsNCiAgICAgICAgICAgIGxldCB0aW1lID0gbW9tZW50KHJlcy5kYXRhLmRhdGEpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpDQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGDmgqjnmoTotKblj7fnlLHkuo7kuI3oia/ooYzkuLrooqvpmZDliLbnmbvlvZXoh7Mke3RpbWV9YCkNCiAgICAgICAgICB9DQogICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXRlLnR5cGUgPT09ICdFUlJPRScpDQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfnlKjmiLflkI3miJblr4bnoIHplJnor68nKQ0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZShlKQ0KICAgICAgICB9KQ0KICAgIH0sDQogICAgYXN5bmMgZ2V0bm9jaXRlbm11KCkgew0KICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy4kYXhpb3MucG9zdCgNCiAgICAgICAgJy93ZWIvZ2V0bm90aWNlJywNCiAgICAgICAgdGhpcy5xcy5zdHJpbmdpZnkoeyBudW06IDEgfSkNCiAgICAgICkNCiAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKQ0KICAgICAgdGhpcy5zZXR1bnJlYWQocmVzLmRhdGEuZGF0YS5jb3VudCkNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgbG9jYWxTdG9yYWdlLmx1ZmZ5X2p3dF90b2tlbiAmJiB0aGlzLmdldG5vY2l0ZW5tdSgpDQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkLA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"index\">f\r\n    <!-- Start of Header -->\r\n    <div class=\"header-wrapper\">\r\n      <header>\r\n        <div class=\"container\">\r\n          <div class=\"logo-container\">\r\n            <!-- Website Logo -->\r\n            <span style=\"font-size: 35px;color: white;\"></span>\r\n            <span class=\"tag-line\" style=\"font-size: 20px\"\r\n              >MyCampus————校园信息综合平台</span\r\n            >\r\n          </div>\r\n          <!-- Start of Main Navigation -->\r\n          <nav class=\"main-nav\">\r\n            <div class=\"menu-top-menu-container\">\r\n              <ul id=\"menu-top-menu\" class=\"clearfix\">\r\n                <router-link\r\n                  to=\"/\"\r\n                  tag=\"li\"\r\n                  exact-active-class=\"current-menu-item\"\r\n                >\r\n                  <a>首页</a>\r\n                </router-link>\r\n                <router-link\r\n                  to=\"/activity\"\r\n                  tag=\"li\"\r\n                  exact-active-class=\"current-menu-item\"\r\n                >\r\n                  <a>活动</a>\r\n                </router-link>\r\n\r\n\r\n                <router-link\r\n                  to=\"/help\"\r\n                  tag=\"li\"\r\n                  exact-active-class=\"current-menu-item\"\r\n                >\r\n                  <a>地图气泡</a>\r\n                </router-link>\r\n\r\n\r\n\r\n                <li v-if=\"avatar == ''\">\r\n                  <a @click=\"closein\">登录/注册</a>\r\n                </li>\r\n                <el-dropdown v-else>\r\n                  <a style=\"color: #c1cad1;\">\r\n                    <img\r\n                      v-if=\"unread == 0\"\r\n                      style=\"     height: 20px; \"\r\n                      :src=\"avatar\"\r\n                      class=\"avatar touxiang avatar-60 photo\"\r\n                      height=\"20\"\r\n                      width=\"20\"\r\n                    />\r\n                    <el-badge v-else :value=\"unread\" class=\"item\">\r\n                      <img\r\n                        style=\"     height: 20px; \"\r\n                        :src=\"avatar\"\r\n                        class=\"avatar touxiang avatar-60 photo\"\r\n                        height=\"20\"\r\n                        width=\"20\"\r\n                      />\r\n                    </el-badge>\r\n                    {{ nickname }}\r\n                  </a>\r\n                  <el-dropdown-menu slot=\"dropdown\">\r\n                    <el-dropdown-item>\r\n                      <router-link\r\n                        to=\"/admin/myself\"\r\n                        tag=\"a\"\r\n                        exact-active-class=\"current-menu-item\"\r\n                        >个人中心</router-link\r\n                      >\r\n                    </el-dropdown-item>\r\n\r\n                    <el-dropdown-item>\r\n                      <router-link\r\n                        to=\"/admin/notice\"\r\n                        tag=\"li\"\r\n                        exact-active-class=\"current-menu-item\"\r\n                      >\r\n                        <a v-if=\"unread == 0\">消息中心</a>\r\n                        <el-badge v-else :value=\"unread\" class=\"item\">\r\n                          <a>消息中心</a>\r\n                        </el-badge>\r\n                      </router-link>\r\n                    </el-dropdown-item>\r\n                    <el-dropdown-item>\r\n                      <a @click=\"logout\">退出登录</a>\r\n                    </el-dropdown-item>\r\n                  </el-dropdown-menu>\r\n                </el-dropdown>\r\n                <!-- <router-link to=\"/admin/notice\" tag=\"li\" exact-active-class=\"current-menu-item\">\r\n                  <el-button v-if=\"unread==0\" size=\"mini\" type=\"info\" icon=\"el-icon-bell\" circle></el-button>\r\n                  <el-badge v-else :value=\"unread\" class=\"item\">\r\n                    <img\r\n                      style=\"     height: 20px; \"\r\n                      :src=\"avatar\"\r\n                      class=\"avatar touxiang avatar-60 photo\"\r\n                      height=\"20\"\r\n                      width=\"20\"\r\n                    />\r\n                  </el-badge>\r\n                </router-link>-->\r\n              </ul>\r\n            </div>\r\n            <select\r\n              v-model=\"selected\"\r\n              @change=\"changeHref(parseInt(selected))\"\r\n              class=\"responsive-nav\"\r\n            >\r\n              <option value=\"1\">首页</option>\r\n              <option value=\"2\">问答</option>\r\n              <option value=\"3\">活动</option>\r\n\r\n              <option value=\"4\">登录/注册</option>\r\n            </select>\r\n          </nav>\r\n          <!-- End of Main Navigation -->\r\n        </div>\r\n      </header>\r\n    </div>\r\n    <!-- End of Header -->\r\n    <router-view />\r\n    <!-- start of foot -->\r\n    <foot />\r\n    <!-- end of foot -->\r\n    <!-- 弹窗组件 -->\r\n\r\n    <div class=\"login\" v-if=\"isclose\">\r\n      <div id=\"mask\"></div>\r\n      <div id=\"loginBox\">\r\n        <h2>{{ islogin ? '网站登录' : '新用户注册' }}</h2>\r\n        <div class=\"user\">\r\n          账 号：\r\n          <input type=\"text\" v-model=\"username\" name=\"username\" class=\"text\" />\r\n        </div>\r\n        <div class=\"pass\">\r\n          密 码：\r\n          <input\r\n            type=\"password\"\r\n            v-model=\"password\"\r\n            name=\"password\"\r\n            class=\"text\"\r\n          />\r\n        </div>\r\n        <div class=\"pass\" v-if=\"!islogin\">\r\n          确 认：\r\n          <input\r\n            type=\"password\"\r\n            v-model=\"password1\"\r\n            name=\"password\"\r\n            class=\"text\"\r\n          />\r\n        </div>\r\n        <div class=\"button\" v-if=\"islogin\">\r\n          <input type=\"button\" @click=\"login\" value=\"登录\" class=\"submit\" />\r\n        </div>\r\n        <div class=\"button\" v-else>\r\n          <input\r\n            type=\"button\"\r\n            value=\"注册\"\r\n            @click=\"registered\"\r\n            class=\"submit\"\r\n          />\r\n        </div>\r\n        <div class=\"other\" @click=\"join\">\r\n          {{ islogin ? '注册新用户' : '登录' }}\r\n        </div>\r\n        <a class=\"iconfont\" @click=\"close\">&#xe608;</a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from 'vuex'\r\nimport moment from 'moment'\r\n\r\nexport default {\r\n  name: 'index',\r\n  components: {\r\n\r\n  },\r\n  data() {\r\n    return {\r\n      selected: 1,\r\n      password: '',\r\n      password1: '',\r\n      username: '',\r\n      hover: false,\r\n      search: ''\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      isclose: state => state.user.isclose,\r\n      islogin: state => state.user.islogin,\r\n      avatar: state => state.user.userinfo.avatar,\r\n      nickname: state => state.user.userinfo.nickname,\r\n      unread: state => state.user.unread\r\n    })\r\n  },\r\n  methods: {\r\n    ...mapActions('user', [\r\n      'setUserInfo',\r\n      'changeislog',\r\n      'setToken',\r\n      'join',\r\n      'close',\r\n      'setunread',\r\n      'deleteuserinfo'\r\n    ]),\r\n    //个人hover弹窗\r\n    overShow() {\r\n      this.hover = !this.hover\r\n    },\r\n    changeHref(sortnum) {\r\n      switch (sortnum) {\r\n        case 1:\r\n          this.$router.push({ path: '/' })\r\n          break\r\n        case 2:\r\n          this.$router.push({ path: '/help' })\r\n          break\r\n        case 3:\r\n          this.$router.push({ path: '/activity' })\r\n          break\r\n\r\n        case 6:\r\n          this.close()\r\n          break\r\n      }\r\n    },\r\n    //退出登录\r\n    logout() {\r\n      this.deleteuserinfo()\r\n      this.$message.success('退出成功')\r\n      // window.location.reload();\r\n    },\r\n    joinin() {\r\n      this.join()\r\n    },\r\n    closein() {\r\n      this.close()\r\n    },\r\n    onSubmit() {\r\n      return false\r\n    },\r\n    searchbtn() {\r\n      if (this.search == '') {\r\n        this.$message.error('关键字不能为空')\r\n        return\r\n      }\r\n      this.$router.push({ path: '/search', query: { search: this.search } })\r\n    },\r\n    registered() {\r\n      const userReg = /^[1-9a-zA-Z]{1}[0-9a-zA-Z]{5,9}$/ //6-10位字母数字\r\n      const pwdReg = /^[a-zA-Z]\\w{5,17}$/ //6-18位字母数字下划线 字母开头\r\n      if (!userReg.test(this.username)) {\r\n        this.$message.error('账号为6-10位字母数字字母')\r\n        return\r\n      }\r\n      if (!pwdReg.test(this.password)) {\r\n        this.$message.error('密码为6-18位字母数字或下划线 字母开头')\r\n        return\r\n      }\r\n      if (this.password !== this.password1) {\r\n        this.$message.error('两次密码不相等')\r\n        return\r\n      }\r\n      let obj = {\r\n        password: this.password,\r\n        username: this.username\r\n      }\r\n      this.$axios({\r\n        url: '/webadmin/registered',\r\n        method: 'POST',\r\n        //  headers:{\r\n        //    'Content-Type':'application/x-www-form-urlencoded',\r\n        //    'Authorization': 'Bearer ' + window.localStorage.getItem('luffy_jwt_token')\r\n        //    },\r\n        data: this.qs.stringify(obj)\r\n      })\r\n        .then(res => {\r\n          let data = res.data\r\n          if (data.state.type !== 'SUCCESS') {\r\n            if (data.state.type == 'ERROR_PARAMS_EXIST') {\r\n              this.$message.error('用户名重复')\r\n            } else {\r\n              this.$message.error('注册失败')\r\n            }\r\n            return\r\n          }\r\n          this.$message.success('注册成功请登录')\r\n          this.join()\r\n        })\r\n        .catch(e => {\r\n          this.$message.error(e)\r\n        })\r\n    },\r\n    //登录\r\n    login() {\r\n      if (this.password == '' || this.password == '') {\r\n        this.$message.error('账号或者密码为空')\r\n        return\r\n      }\r\n      // this.pwdhash = crypto\r\n      //   .createHash(\"sha1\")\r\n      //   .update(this.password)\r\n      //   .digest(\"hex\");\r\n      // let this_ = this;\r\n      let obj = {\r\n        password: this.password,\r\n        username: this.username,\r\n        type: ''\r\n      }\r\n      this.$axios({\r\n        url: '/webadmin/login',\r\n        method: 'POST',\r\n        data: this.qs.stringify(obj)\r\n      })\r\n        .then(res => {\r\n          let data = res.data.data\r\n          if (res.data.state.type === 'SUCCESS') {\r\n            this.$message.success('登录成功')\r\n            // this.$store.user.dispatch(\"setUserInfo\", data)\r\n            this.setUserInfo(data.userinfo)\r\n            this.setToken(data.token)\r\n            this.changeislog()\r\n            console.log(data)\r\n            this.close()\r\n          }\r\n          if (res.data.state === 's') {\r\n            let time = moment(res.data.data).format('YYYY-MM-DD HH:mm')\r\n            this.$message.error(`您的账号由于不良行为被限制登录至${time}`)\r\n          }\r\n          if (res.data.state.type === 'ERROE')\r\n            this.$message.error('用户名或密码错误')\r\n        })\r\n        .catch(e => {\r\n          this.$message(e)\r\n        })\r\n    },\r\n    async getnocitenmu() {\r\n      const res = await this.$axios.post(\r\n        '/web/getnotice',\r\n        this.qs.stringify({ num: 1 })\r\n      )\r\n      console.log(res.data)\r\n      this.setunread(res.data.data.count)\r\n    }\r\n  },\r\n  created() {\r\n    localStorage.luffy_jwt_token && this.getnocitenmu()\r\n  }\r\n}\r\n</script>\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.header-btn {\r\n  background-color: #2c696d;\r\n  font-size: 14px;\r\n  line-height: 19px;\r\n  font-weight: 600;\r\n  padding: 14px 30px 15px;\r\n  color: #fff;\r\n  display: table;\r\n  margin: 0 auto;\r\n}\r\n#mask {\r\n  position: fixed;\r\n  z-index: 999;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: #000;\r\n  filter: alpha(Opacity=30);\r\n  opacity: 0.2;\r\n  margin: 0;\r\n  /* display: none;  */\r\n}\r\n#loginBox {\r\n  position: fixed;\r\n  left: 50%; /* 定位父级的50% */\r\n  top: 50%;\r\n  transform: translate(-50%, -50%); /*自己的50% */\r\n  z-index: 1000;\r\n  width: 380px;\r\n  height: 330px;\r\n  border: 1px solid #ccc;\r\n  background-color: #fff;\r\n  /* display: none;  */\r\n}\r\n#loginBox h2 {\r\n  height: 40px;\r\n  text-align: center;\r\n  line-height: 40px;\r\n  font-size: 14px;\r\n  letter-spacing: 1px;\r\n  color: #666;\r\n  /* background: url(../images/login_header.png) repeat-x; */\r\n  margin: 0;\r\n  padding: 0;\r\n  border-bottom: 1px solid #ccc;\r\n  margin: 0 0 20px 0;\r\n}\r\n#loginBox h2 img {\r\n  display: block;\r\n  float: right;\r\n  position: relative;\r\n  top: 10px;\r\n  right: 10px;\r\n  cursor: pointer;\r\n}\r\n#loginBox .user,\r\n#loginBox .pass {\r\n  font-size: 14px;\r\n  color: #666;\r\n  padding: 5px 0;\r\n  text-align: center;\r\n}\r\n#loginBox input.text {\r\n  width: 200px;\r\n  height: 25px;\r\n  font-size: 14px;\r\n  border: 1px solid #ccc;\r\n  background-color: #fff;\r\n}\r\n#loginBox .button {\r\n  text-align: center;\r\n  padding: 10px 0;\r\n}\r\n#loginBox input.submit {\r\n  width: 107px;\r\n  height: 30px;\r\n  background-color: rgb(102, 190, 139);\r\n  border: none;\r\n  cursor: pointer;\r\n}\r\n#loginBox .other {\r\n  text-align: right;\r\n  padding: 15px 10px;\r\n  font-size: 14px;\r\n  color: #666;\r\n\r\n  cursor: pointer;\r\n}\r\n.iconfont {\r\n  font-size: 20px;\r\n  color: #000;\r\n  position: absolute;\r\n  right: 10px;\r\n  top: 10px;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n"]}]}