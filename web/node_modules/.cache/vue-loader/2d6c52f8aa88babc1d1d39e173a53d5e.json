{"remainingRequest":"D:\\Desktop\\InterConnect\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Desktop\\InterConnect\\web\\src\\views\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Desktop\\InterConnect\\web\\src\\views\\index.vue","mtime":1718073816036},{"path":"D:\\Desktop\\InterConnect\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Desktop\\InterConnect\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Desktop\\InterConnect\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Desktop\\InterConnect\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCcKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2luZGV4JywKICBjb21wb25lbnRzOiB7CgogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlbGVjdGVkOiAxLAogICAgICBwYXNzd29yZDogJycsCiAgICAgIHBhc3N3b3JkMTogJycsCiAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgaG92ZXI6IGZhbHNlLAogICAgICBzZWFyY2g6ICcnCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoewogICAgICBpc2Nsb3NlOiBzdGF0ZSA9PiBzdGF0ZS51c2VyLmlzY2xvc2UsCiAgICAgIGlzbG9naW46IHN0YXRlID0+IHN0YXRlLnVzZXIuaXNsb2dpbiwKICAgICAgYXZhdGFyOiBzdGF0ZSA9PiBzdGF0ZS51c2VyLnVzZXJpbmZvLmF2YXRhciwKICAgICAgbmlja25hbWU6IHN0YXRlID0+IHN0YXRlLnVzZXIudXNlcmluZm8ubmlja25hbWUsCiAgICAgIHVucmVhZDogc3RhdGUgPT4gc3RhdGUudXNlci51bnJlYWQKICAgIH0pCiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKCd1c2VyJywgWwogICAgICAnc2V0VXNlckluZm8nLAogICAgICAnY2hhbmdlaXNsb2cnLAogICAgICAnc2V0VG9rZW4nLAogICAgICAnam9pbicsCiAgICAgICdjbG9zZScsCiAgICAgICdzZXR1bnJlYWQnLAogICAgICAnZGVsZXRldXNlcmluZm8nCiAgICBdKSwKICAgIC8v5Liq5Lq6aG92ZXLlvLnnqpcKICAgIG92ZXJTaG93KCkgewogICAgICB0aGlzLmhvdmVyID0gIXRoaXMuaG92ZXIKICAgIH0sCiAgICBjaGFuZ2VIcmVmKHNvcnRudW0pIHsKICAgICAgc3dpdGNoIChzb3J0bnVtKSB7CiAgICAgICAgY2FzZSAxOgogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAnLycgfSkKICAgICAgICAgIGJyZWFrCiAgICAgICAgY2FzZSAyOgogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAnL2hlbHAnIH0pCiAgICAgICAgICBicmVhawogICAgICAgIGNhc2UgMzoKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogJy9hY3Rpdml0eScgfSkKICAgICAgICAgIGJyZWFrCiAgICAgICAKICAgICAgICBjYXNlIDY6CiAgICAgICAgICB0aGlzLmNsb3NlKCkKICAgICAgICAgIGJyZWFrCiAgICAgIH0KICAgIH0sCiAgICAvL+mAgOWHuueZu+W9lQogICAgbG9nb3V0KCkgewogICAgICB0aGlzLmRlbGV0ZXVzZXJpbmZvKCkKICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfpgIDlh7rmiJDlip8nKQogICAgICAvLyB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICB9LAogICAgam9pbmluKCkgewogICAgICB0aGlzLmpvaW4oKQogICAgfSwKICAgIGNsb3NlaW4oKSB7CiAgICAgIHRoaXMuY2xvc2UoKQogICAgfSwKICAgIG9uU3VibWl0KCkgewogICAgICByZXR1cm4gZmFsc2UKICAgIH0sCiAgICBzZWFyY2hidG4oKSB7CiAgICAgIGlmICh0aGlzLnNlYXJjaCA9PSAnJykgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WFs+mUruWtl+S4jeiDveS4uuepuicpCiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAnL3NlYXJjaCcsIHF1ZXJ5OiB7IHNlYXJjaDogdGhpcy5zZWFyY2ggfSB9KQogICAgfSwKICAgIHJlZ2lzdGVyZWQoKSB7CiAgICAgIGNvbnN0IHVzZXJSZWcgPSAvXlsxLTlhLXpBLVpdezF9WzAtOWEtekEtWl17NSw5fSQvIC8vNi0xMOS9jeWtl+avjeaVsOWtlwogICAgICBjb25zdCBwd2RSZWcgPSAvXlthLXpBLVpdXHd7NSwxN30kLyAvLzYtMTjkvY3lrZfmr43mlbDlrZfkuIvliJLnur8g5a2X5q+N5byA5aS0CiAgICAgIGlmICghdXNlclJlZy50ZXN0KHRoaXMudXNlcm5hbWUpKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6LSm5Y+35Li6Ni0xMOS9jeWtl+avjeaVsOWtl+Wtl+avjScpCiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgaWYgKCFwd2RSZWcudGVzdCh0aGlzLnBhc3N3b3JkKSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WvhueggeS4ujYtMTjkvY3lrZfmr43mlbDlrZfmiJbkuIvliJLnur8g5a2X5q+N5byA5aS0JykKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICBpZiAodGhpcy5wYXNzd29yZCAhPT0gdGhpcy5wYXNzd29yZDEpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuKTmrKHlr4bnoIHkuI3nm7jnrYknKQogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIGxldCBvYmogPSB7CiAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQsCiAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUKICAgICAgfQogICAgICB0aGlzLiRheGlvcyh7CiAgICAgICAgdXJsOiAnL3dlYmFkbWluL3JlZ2lzdGVyZWQnLAogICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgIC8vICBoZWFkZXJzOnsKICAgICAgICAvLyAgICAnQ29udGVudC1UeXBlJzonYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywKICAgICAgICAvLyAgICAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgJyArIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbHVmZnlfand0X3Rva2VuJykKICAgICAgICAvLyAgICB9LAogICAgICAgIGRhdGE6IHRoaXMucXMuc3RyaW5naWZ5KG9iaikKICAgICAgfSkKICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YQogICAgICAgICAgaWYgKGRhdGEuc3RhdGUudHlwZSAhPT0gJ1NVQ0NFU1MnKSB7CiAgICAgICAgICAgIGlmIChkYXRhLnN0YXRlLnR5cGUgPT0gJ0VSUk9SX1BBUkFNU19FWElTVCcpIHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfnlKjmiLflkI3ph43lpI0nKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+azqOWGjOWksei0pScpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+azqOWGjOaIkOWKn+ivt+eZu+W9lScpCiAgICAgICAgICB0aGlzLmpvaW4oKQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGUgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihlKQogICAgICAgIH0pCiAgICB9LAogICAgLy/nmbvlvZUKICAgIGxvZ2luKCkgewogICAgICBpZiAodGhpcy5wYXNzd29yZCA9PSAnJyB8fCB0aGlzLnBhc3N3b3JkID09ICcnKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6LSm5Y+35oiW6ICF5a+G56CB5Li656m6JykKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICAvLyB0aGlzLnB3ZGhhc2ggPSBjcnlwdG8KICAgICAgLy8gICAuY3JlYXRlSGFzaCgic2hhMSIpCiAgICAgIC8vICAgLnVwZGF0ZSh0aGlzLnBhc3N3b3JkKQogICAgICAvLyAgIC5kaWdlc3QoImhleCIpOwogICAgICAvLyBsZXQgdGhpc18gPSB0aGlzOwogICAgICBsZXQgb2JqID0gewogICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkLAogICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lLAogICAgICAgIHR5cGU6ICcnCiAgICAgIH0KICAgICAgdGhpcy4kYXhpb3MoewogICAgICAgIHVybDogJy93ZWJhZG1pbi9sb2dpbicsCiAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgZGF0YTogdGhpcy5xcy5zdHJpbmdpZnkob2JqKQogICAgICB9KQogICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICBsZXQgZGF0YSA9IHJlcy5kYXRhLmRhdGEKICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0ZS50eXBlID09PSAnU1VDQ0VTUycpIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfnmbvlvZXmiJDlip8nKQogICAgICAgICAgICAvLyB0aGlzLiRzdG9yZS51c2VyLmRpc3BhdGNoKCJzZXRVc2VySW5mbyIsIGRhdGEpCiAgICAgICAgICAgIHRoaXMuc2V0VXNlckluZm8oZGF0YS51c2VyaW5mbykKICAgICAgICAgICAgdGhpcy5zZXRUb2tlbihkYXRhLnRva2VuKQogICAgICAgICAgICB0aGlzLmNoYW5nZWlzbG9nKCkKICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSkKICAgICAgICAgICAgdGhpcy5jbG9zZSgpCiAgICAgICAgICB9CiAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdGUgPT09ICdzJykgewogICAgICAgICAgICBsZXQgdGltZSA9IG1vbWVudChyZXMuZGF0YS5kYXRhKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGDmgqjnmoTotKblj7fnlLHkuo7kuI3oia/ooYzkuLrooqvpmZDliLbnmbvlvZXoh7Mke3RpbWV9YCkKICAgICAgICAgIH0KICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0ZS50eXBlID09PSAnRVJST0UnKQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfnlKjmiLflkI3miJblr4bnoIHplJnor68nKQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGUgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZShlKQogICAgICAgIH0pCiAgICB9LAogICAgYXN5bmMgZ2V0bm9jaXRlbm11KCkgewogICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLiRheGlvcy5wb3N0KAogICAgICAgICcvd2ViL2dldG5vdGljZScsCiAgICAgICAgdGhpcy5xcy5zdHJpbmdpZnkoeyBudW06IDEgfSkKICAgICAgKQogICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSkKICAgICAgdGhpcy5zZXR1bnJlYWQocmVzLmRhdGEuZGF0YS5jb3VudCkKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICBsb2NhbFN0b3JhZ2UubHVmZnlfand0X3Rva2VuICYmIHRoaXMuZ2V0bm9jaXRlbm11KCkKICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkLA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"index\">\n    <!-- Start of Header -->\n    <div class=\"header-wrapper\">\n      <header>\n        <div class=\"container\">\n          <div class=\"logo-container\">\n            <!-- Website Logo -->\n            <span style=\"font-size: 35px;color: white;\"></span>\n            <span class=\"tag-line\" style=\"font-size: 20px\"\n              >InterConnect————校园信息综合平台</span\n            >\n          </div>\n          <!-- Start of Main Navigation -->\n          <nav class=\"main-nav\">\n            <div class=\"menu-top-menu-container\">\n              <ul id=\"menu-top-menu\" class=\"clearfix\">\n                <router-link\n                  to=\"/\"\n                  tag=\"li\"\n                  exact-active-class=\"current-menu-item\"\n                >\n                  <a>首页</a>\n                </router-link>\n                <router-link\n                  to=\"/activity\"\n                  tag=\"li\"\n                  exact-active-class=\"current-menu-item\"\n                >\n                  <a>活动</a>\n                </router-link>\n\n\n                <router-link\n                  to=\"/help\"\n                  tag=\"li\"\n                  exact-active-class=\"current-menu-item\"\n                >\n                  <a>地图气泡</a>\n                </router-link>\n                \n                \n\n                <li v-if=\"avatar == ''\">\n                  <a @click=\"closein\">登录/注册</a>\n                </li>\n                <el-dropdown v-else>\n                  <a style=\"color: #c1cad1;\">\n                    <img\n                      v-if=\"unread == 0\"\n                      style=\"     height: 20px; \"\n                      :src=\"avatar\"\n                      class=\"avatar touxiang avatar-60 photo\"\n                      height=\"20\"\n                      width=\"20\"\n                    />\n                    <el-badge v-else :value=\"unread\" class=\"item\">\n                      <img\n                        style=\"     height: 20px; \"\n                        :src=\"avatar\"\n                        class=\"avatar touxiang avatar-60 photo\"\n                        height=\"20\"\n                        width=\"20\"\n                      />\n                    </el-badge>\n                    {{ nickname }}\n                  </a>\n                  <el-dropdown-menu slot=\"dropdown\">\n                    <el-dropdown-item>\n                      <router-link\n                        to=\"/admin/myself\"\n                        tag=\"a\"\n                        exact-active-class=\"current-menu-item\"\n                        >个人中心</router-link\n                      >\n                    </el-dropdown-item>\n\n                    <el-dropdown-item>\n                      <router-link\n                        to=\"/admin/notice\"\n                        tag=\"li\"\n                        exact-active-class=\"current-menu-item\"\n                      >\n                        <a v-if=\"unread == 0\">消息中心</a>\n                        <el-badge v-else :value=\"unread\" class=\"item\">\n                          <a>消息中心</a>\n                        </el-badge>\n                      </router-link>\n                    </el-dropdown-item>\n                    <el-dropdown-item>\n                      <a @click=\"logout\">退出登录</a>\n                    </el-dropdown-item>\n                  </el-dropdown-menu>\n                </el-dropdown>\n                <!-- <router-link to=\"/admin/notice\" tag=\"li\" exact-active-class=\"current-menu-item\">\n                  <el-button v-if=\"unread==0\" size=\"mini\" type=\"info\" icon=\"el-icon-bell\" circle></el-button>\n                  <el-badge v-else :value=\"unread\" class=\"item\">\n                    <img\n                      style=\"     height: 20px; \"\n                      :src=\"avatar\"\n                      class=\"avatar touxiang avatar-60 photo\"\n                      height=\"20\"\n                      width=\"20\"\n                    />\n                  </el-badge>\n                </router-link>-->\n              </ul>\n            </div>\n            <select\n              v-model=\"selected\"\n              @change=\"changeHref(parseInt(selected))\"\n              class=\"responsive-nav\"\n            >\n              <option value=\"1\">首页</option>\n              <option value=\"2\">问答</option>\n              <option value=\"3\">活动</option>\n              \n              <option value=\"4\">登录/注册</option>\n            </select>\n          </nav>\n          <!-- End of Main Navigation -->\n        </div>\n      </header>\n    </div>\n    <!-- End of Header -->\n    <router-view />\n    <!-- start of foot -->\n    <foot />\n    <!-- end of foot -->\n    <!-- 弹窗组件 -->\n\n    <div class=\"login\" v-if=\"isclose\">\n      <div id=\"mask\"></div>\n      <div id=\"loginBox\">\n        <h2>{{ islogin ? '网站登录' : '新用户注册' }}</h2>\n        <div class=\"user\">\n          账 号：\n          <input type=\"text\" v-model=\"username\" name=\"username\" class=\"text\" />\n        </div>\n        <div class=\"pass\">\n          密 码：\n          <input\n            type=\"password\"\n            v-model=\"password\"\n            name=\"password\"\n            class=\"text\"\n          />\n        </div>\n        <div class=\"pass\" v-if=\"!islogin\">\n          确 认：\n          <input\n            type=\"password\"\n            v-model=\"password1\"\n            name=\"password\"\n            class=\"text\"\n          />\n        </div>\n        <div class=\"button\" v-if=\"islogin\">\n          <input type=\"button\" @click=\"login\" value=\"登录\" class=\"submit\" />\n        </div>\n        <div class=\"button\" v-else>\n          <input\n            type=\"button\"\n            value=\"注册\"\n            @click=\"registered\"\n            class=\"submit\"\n          />\n        </div>\n        <div class=\"other\" @click=\"join\">\n          {{ islogin ? '注册新用户' : '登录' }}\n        </div>\n        <a class=\"iconfont\" @click=\"close\">&#xe608;</a>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex'\nimport moment from 'moment'\n\nexport default {\n  name: 'index',\n  components: {\n\n  },\n  data() {\n    return {\n      selected: 1,\n      password: '',\n      password1: '',\n      username: '',\n      hover: false,\n      search: ''\n    }\n  },\n  computed: {\n    ...mapState({\n      isclose: state => state.user.isclose,\n      islogin: state => state.user.islogin,\n      avatar: state => state.user.userinfo.avatar,\n      nickname: state => state.user.userinfo.nickname,\n      unread: state => state.user.unread\n    })\n  },\n  methods: {\n    ...mapActions('user', [\n      'setUserInfo',\n      'changeislog',\n      'setToken',\n      'join',\n      'close',\n      'setunread',\n      'deleteuserinfo'\n    ]),\n    //个人hover弹窗\n    overShow() {\n      this.hover = !this.hover\n    },\n    changeHref(sortnum) {\n      switch (sortnum) {\n        case 1:\n          this.$router.push({ path: '/' })\n          break\n        case 2:\n          this.$router.push({ path: '/help' })\n          break\n        case 3:\n          this.$router.push({ path: '/activity' })\n          break\n       \n        case 6:\n          this.close()\n          break\n      }\n    },\n    //退出登录\n    logout() {\n      this.deleteuserinfo()\n      this.$message.success('退出成功')\n      // window.location.reload();\n    },\n    joinin() {\n      this.join()\n    },\n    closein() {\n      this.close()\n    },\n    onSubmit() {\n      return false\n    },\n    searchbtn() {\n      if (this.search == '') {\n        this.$message.error('关键字不能为空')\n        return\n      }\n      this.$router.push({ path: '/search', query: { search: this.search } })\n    },\n    registered() {\n      const userReg = /^[1-9a-zA-Z]{1}[0-9a-zA-Z]{5,9}$/ //6-10位字母数字\n      const pwdReg = /^[a-zA-Z]\\w{5,17}$/ //6-18位字母数字下划线 字母开头\n      if (!userReg.test(this.username)) {\n        this.$message.error('账号为6-10位字母数字字母')\n        return\n      }\n      if (!pwdReg.test(this.password)) {\n        this.$message.error('密码为6-18位字母数字或下划线 字母开头')\n        return\n      }\n      if (this.password !== this.password1) {\n        this.$message.error('两次密码不相等')\n        return\n      }\n      let obj = {\n        password: this.password,\n        username: this.username\n      }\n      this.$axios({\n        url: '/webadmin/registered',\n        method: 'POST',\n        //  headers:{\n        //    'Content-Type':'application/x-www-form-urlencoded',\n        //    'Authorization': 'Bearer ' + window.localStorage.getItem('luffy_jwt_token')\n        //    },\n        data: this.qs.stringify(obj)\n      })\n        .then(res => {\n          let data = res.data\n          if (data.state.type !== 'SUCCESS') {\n            if (data.state.type == 'ERROR_PARAMS_EXIST') {\n              this.$message.error('用户名重复')\n            } else {\n              this.$message.error('注册失败')\n            }\n            return\n          }\n          this.$message.success('注册成功请登录')\n          this.join()\n        })\n        .catch(e => {\n          this.$message.error(e)\n        })\n    },\n    //登录\n    login() {\n      if (this.password == '' || this.password == '') {\n        this.$message.error('账号或者密码为空')\n        return\n      }\n      // this.pwdhash = crypto\n      //   .createHash(\"sha1\")\n      //   .update(this.password)\n      //   .digest(\"hex\");\n      // let this_ = this;\n      let obj = {\n        password: this.password,\n        username: this.username,\n        type: ''\n      }\n      this.$axios({\n        url: '/webadmin/login',\n        method: 'POST',\n        data: this.qs.stringify(obj)\n      })\n        .then(res => {\n          let data = res.data.data\n          if (res.data.state.type === 'SUCCESS') {\n            this.$message.success('登录成功')\n            // this.$store.user.dispatch(\"setUserInfo\", data)\n            this.setUserInfo(data.userinfo)\n            this.setToken(data.token)\n            this.changeislog()\n            console.log(data)\n            this.close()\n          }\n          if (res.data.state === 's') {\n            let time = moment(res.data.data).format('YYYY-MM-DD HH:mm')\n            this.$message.error(`您的账号由于不良行为被限制登录至${time}`)\n          }\n          if (res.data.state.type === 'ERROE')\n            this.$message.error('用户名或密码错误')\n        })\n        .catch(e => {\n          this.$message(e)\n        })\n    },\n    async getnocitenmu() {\n      const res = await this.$axios.post(\n        '/web/getnotice',\n        this.qs.stringify({ num: 1 })\n      )\n      console.log(res.data)\n      this.setunread(res.data.data.count)\n    }\n  },\n  created() {\n    localStorage.luffy_jwt_token && this.getnocitenmu()\n  }\n}\n</script>\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.header-btn {\n  background-color: #2c696d;\n  font-size: 14px;\n  line-height: 19px;\n  font-weight: 600;\n  padding: 14px 30px 15px;\n  color: #fff;\n  display: table;\n  margin: 0 auto;\n}\n#mask {\n  position: fixed;\n  z-index: 999;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: #000;\n  filter: alpha(Opacity=30);\n  opacity: 0.2;\n  margin: 0;\n  /* display: none;  */\n}\n#loginBox {\n  position: fixed;\n  left: 50%; /* 定位父级的50% */\n  top: 50%;\n  transform: translate(-50%, -50%); /*自己的50% */\n  z-index: 1000;\n  width: 380px;\n  height: 330px;\n  border: 1px solid #ccc;\n  background-color: #fff;\n  /* display: none;  */\n}\n#loginBox h2 {\n  height: 40px;\n  text-align: center;\n  line-height: 40px;\n  font-size: 14px;\n  letter-spacing: 1px;\n  color: #666;\n  /* background: url(../images/login_header.png) repeat-x; */\n  margin: 0;\n  padding: 0;\n  border-bottom: 1px solid #ccc;\n  margin: 0 0 20px 0;\n}\n#loginBox h2 img {\n  display: block;\n  float: right;\n  position: relative;\n  top: 10px;\n  right: 10px;\n  cursor: pointer;\n}\n#loginBox .user,\n#loginBox .pass {\n  font-size: 14px;\n  color: #666;\n  padding: 5px 0;\n  text-align: center;\n}\n#loginBox input.text {\n  width: 200px;\n  height: 25px;\n  font-size: 14px;\n  border: 1px solid #ccc;\n  background-color: #fff;\n}\n#loginBox .button {\n  text-align: center;\n  padding: 10px 0;\n}\n#loginBox input.submit {\n  width: 107px;\n  height: 30px;\n  background-color: rgb(102, 190, 139);\n  border: none;\n  cursor: pointer;\n}\n#loginBox .other {\n  text-align: right;\n  padding: 15px 10px;\n  font-size: 14px;\n  color: #666;\n\n  cursor: pointer;\n}\n.iconfont {\n  font-size: 20px;\n  color: #000;\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  cursor: pointer;\n}\n</style>\n"]}]}