{"ast":null,"code":"import _regeneratorRuntime from \"D:/Desktop/InterConnect/admin/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"D:/Desktop/InterConnect/admin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"D:/Desktop/InterConnect/admin/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapState, mapActions } from 'vuex';\nexport default {\n  name: 'content',\n  computed: _objectSpread({}, mapState({\n    uinfo: function uinfo(state) {\n      return state.user.uinfo;\n    }\n  })),\n  data: function data() {\n    return {\n      loading: false,\n      dialog: false,\n      pagelistquery: {\n        user: '',\n        admin: '',\n        state: '0',\n        search: '',\n        type: 'help',\n        total: 0,\n        page: 1,\n        pagesize: 10\n      },\n      type: 'help',\n      thiscontent: {},\n      tableData: [],\n      content: {}\n    };\n  },\n  methods: {\n    shenhe: function shenhe(row) {\n      this.content = row;\n      this.dialog = true;\n    },\n    changestate: function changestate(state) {\n      var _this = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var id, data, res;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              if (_this.pagelistquery.type == 'help') {\n                id = _this.content.help_id;\n              }\n              if (_this.pagelistquery.type == 'activity') {\n                id = _this.content.activity_id;\n              }\n              if (_this.pagelistquery.type == 'job') {\n                id = _this.content.job_id;\n              }\n              if (_this.pagelistquery.type == 'oldstuff') {\n                id = _this.content.oldstuff_id;\n              }\n              if (_this.pagelistquery.type == 'article') {\n                id = _this.content.article_id;\n              }\n              data = {\n                id: id,\n                type: _this.pagelistquery.type,\n                state: state\n              };\n              _context.next = 8;\n              return _this.$axios.post('/admin/changecontentstate', _this.qs.stringify(data));\n            case 8:\n              res = _context.sent;\n              if (res.data.state.type === 'SUCCESS') {\n                _this.$message.success('操作成功');\n                _this.dialog = false;\n                _this.getcontentlist();\n              }\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    },\n    del: function del(id) {\n      var _this2 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _this2.$confirm('确认删除吗?', '提示', {\n                confirmButtonText: '确定',\n                cancelButtonText: '取消',\n                type: 'warning'\n              }).then(function () {\n                var data = {\n                  id: id,\n                  type: _this2.pagelistquery.type\n                };\n                _this2.$axios.post('/admin/admindelete', _this2.qs.stringify(data)).then(function (res) {\n                  if (res.data.state.type === 'SUCCESS') {\n                    _this2.$message.success('删除成功');\n                    _this2.getcontentlist();\n                  }\n                });\n              });\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }))();\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      this.pagelistquery.pagesize = val;\n      this.getcontentlist();\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.pagelistquery.page = val;\n      this.getcontentlist();\n    },\n    getcontentlist: function getcontentlist() {\n      var _this3 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var res;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              _this3.loading = true;\n              _this3.type = _this3.pagelistquery.type;\n              _context3.next = 4;\n              return _this3.$axios.post('/admin/content', _this3.qs.stringify(_this3.pagelistquery));\n            case 4:\n              res = _context3.sent;\n              if (res.data.state.type === 'SUCCESS') {\n                _this3.tableData = res.data.data;\n                _this3.pagelistquery.total = res.data.count;\n                _this3.loading = false;\n              }\n            case 6:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3);\n      }))();\n    }\n  },\n  created: function created() {\n    this.getcontentlist();\n  }\n};","map":{"version":3,"names":["mapState","mapActions","name","computed","_objectSpread","uinfo","state","user","data","loading","dialog","pagelistquery","admin","search","type","total","page","pagesize","thiscontent","tableData","content","methods","shenhe","row","changestate","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","id","res","wrap","_callee$","_context","prev","next","help_id","activity_id","job_id","oldstuff_id","article_id","$axios","post","qs","stringify","sent","$message","success","getcontentlist","stop","del","_this2","_callee2","_callee2$","_context2","$confirm","confirmButtonText","cancelButtonText","then","handleSizeChange","val","handleCurrentChange","_this3","_callee3","_callee3$","_context3","count","created"],"sources":["src/views/check/content.vue"],"sourcesContent":["<template>\n  <div id=\"content\" class=\"content\">\n    <el-main>\n      <div class=\"top\">\n        <el-breadcrumb separator=\"/\">\n          <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\n          <el-breadcrumb-item>审核中心</el-breadcrumb-item>\n          <el-breadcrumb-item>内容审核</el-breadcrumb-item>\n        </el-breadcrumb>\n      </div>\n\n      <div class=\"main\">\n        <div class=\"search\">\n          <el-form\n            :inline=\"true\"\n            :model=\"pagelistquery\"\n            class=\"demo-form-inline\"\n          >\n            <el-form-item>\n              <el-input\n                v-model=\"pagelistquery.user\"\n                placeholder=\"用户\"\n              ></el-input>\n            </el-form-item>\n            <el-form-item>\n              <el-input\n                v-model=\"pagelistquery.admin\"\n                placeholder=\"审批人\"\n              ></el-input>\n            </el-form-item>\n            <el-form-item>\n              <el-input\n                v-model=\"pagelistquery.search\"\n                placeholder=\"关键字\"\n              ></el-input>\n            </el-form-item>\n            <el-form-item>\n              <el-select v-model=\"pagelistquery.state\" placeholder=\"状态\">\n                <el-option label=\"全部\" value></el-option>\n                <el-option label=\"待审核\" value=\"0\"></el-option>\n                <el-option label=\"审核通过\" value=\"1\"></el-option>\n\n                <el-option label=\"审核未通过\" value=\"-1\"></el-option>\n              </el-select>\n            </el-form-item>\n            <el-form-item>\n              <el-select v-model=\"pagelistquery.type\" placeholder=\"模块\">\n                <el-option label=\"问答交流\" value=\"help\"></el-option>\n                <el-option label=\"校园活动\" value=\"activity\"></el-option>\n                <el-option label=\"二手信息\" value=\"oldstuff\"></el-option>\n                <el-option label=\"招聘信息\" value=\"job\"></el-option>\n                <el-option label=\"文章新闻\" value=\"article\"></el-option>\n              </el-select>\n            </el-form-item>\n            <el-form-item>\n              <el-button type=\"primary\" @click=\"getcontentlist\">查询</el-button>\n            </el-form-item>\n          </el-form>\n        </div>\n        <!-- 弹框-->\n        <el-dialog title=\"详情\" :visible.sync=\"dialog\">\n          <el-form v-if=\"this.pagelistquery.type == 'help'\">\n            <el-form-item label=\"标题\">{{ content.help_title }}</el-form-item>\n            <el-form-item label=\"分类\">{{ content.help_lable }}</el-form-item>\n            <el-form-item label=\"内容\">\n              <span v-html=\"content.help_content\"></span>\n            </el-form-item>\n          </el-form>\n\n          <el-form v-if=\"this.pagelistquery.type == 'activity'\">\n            <el-form-item label=\"标题\">{{\n              content.activity_title\n            }}</el-form-item>\n            <el-form-item label=\"分类\">{{\n              content.activity_lable\n            }}</el-form-item>\n            <el-form-item label=\"地点\">{{\n              content.activity_locale\n            }}</el-form-item>\n            <el-form-item label=\"时间\"\n              >{{ content.activity_statetime | dataFormat }}——{{\n                content.activity_endtime | dataFormat\n              }}</el-form-item\n            >\n            <el-form-item label=\"内容\">\n              <span v-html=\"content.activity_content\"></span>\n            </el-form-item>\n          </el-form>\n\n          <el-form v-if=\"this.pagelistquery.type == 'job'\">\n            <el-form-item label=\"岗位\">{{ content.job_name }}</el-form-item>\n            <el-form-item label=\"薪资\">{{ content.job_salary }}</el-form-item>\n            <el-form-item label=\"人数\">{{ content.job_num }}</el-form-item>\n            <el-form-item label=\"分类\">{{ content.job_lable }}</el-form-item>\n            <el-form-item label=\"内容\">\n              <span v-html=\"content.job_content\"></span>\n            </el-form-item>\n          </el-form>\n\n          <el-form v-if=\"this.pagelistquery.type == 'article'\">\n            <el-form-item label=\"标题\">{{\n              content.article_title\n            }}</el-form-item>\n            <el-form-item label=\"分类\">{{\n              content.article_lable\n            }}</el-form-item>\n            <el-form-item label=\"分类\">{{\n              content.article_introduction\n            }}</el-form-item>\n            <el-form-item label=\"内容\">\n              <span v-html=\"content.article_content\"></span>\n            </el-form-item>\n          </el-form>\n\n          <el-form v-if=\"this.pagelistquery.type == 'oldstuff'\">\n            <el-form-item label=\"实物\">\n              <img :src=\"content.oldstuff_img\" alt width=\"300px\" />\n            </el-form-item>\n            <el-form-item label=\"名称\">{{\n              content.oldstuff_name\n            }}</el-form-item>\n            <el-form-item label=\"价格\">{{\n              content.oldstuff_price\n            }}</el-form-item>\n            <el-form-item label=\"分类\">{{\n              content.oldstuff_lable\n            }}</el-form-item>\n            <el-form-item label=\"描述\">\n              <span v-html=\"content.oldstuff_content\"></span>\n            </el-form-item>\n          </el-form>\n\n          <div slot=\"footer\" class=\"dialog-footer\">\n            <el-button type=\"primary\" @click=\"changestate(1)\"\n              >通过审核</el-button\n            >\n            <el-button type=\"danger\" @click=\"changestate(-1)\"\n              >不通过审核</el-button\n            >\n            <el-button @click=\"dialog = false\">取消</el-button>\n          </div>\n        </el-dialog>\n        <!--help-->\n        <el-table\n          :data=\"tableData\"\n          border\n          style=\"width: 100%;min-height:500px\"\n          v-loading=\"loading\"\n          element-loading-text=\"拼命加载中\"\n          element-loading-spinner=\"el-icon-loading\"\n          v-if=\"type == 'help'\"\n        >\n          <el-table-column fixed prop=\"createtime\" label=\"创建日期\">\n            <template slot-scope=\"scope\">{{\n              scope.row.createtime | dataFormat\n            }}</template>\n          </el-table-column>\n          <el-table-column prop=\"nickname\" label=\"作者\"></el-table-column>\n          <el-table-column prop=\"help_title\" label=\"标题\">\n            <template slot-scope=\"scope\">{{ scope.row.help_title }}</template>\n          </el-table-column>\n          <el-table-column prop=\"help_lable\" label=\"分类\"></el-table-column>\n          <el-table-column prop=\"ispublic\" label=\"状态\">\n            <template slot-scope=\"scope\">\n              <span style=\"color:#6cbb7a\" v-if=\"scope.row.ispublic == 1\"\n                >审核通过</span\n              >\n              <span style=\"color:#409eff\" v-if=\"scope.row.ispublic == 0\"\n                >未审核</span\n              >\n              <span style=\"color:#f60c6c\" v-if=\"scope.row.ispublic == -1\"\n                >审核未通过</span\n              >\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"admin\" label=\"审核人\"></el-table-column>\n          <el-table-column fixed=\"right\" label=\"操作\" width=\"170\">\n            <template slot-scope=\"scope\">\n              <el-button @click=\"shenhe(scope.row)\" type=\"text\" size=\"small\"\n                >审核</el-button\n              >\n              <el-button\n                type=\"text\"\n                size=\"small\"\n                @click=\"del(scope.row.help_id)\"\n                :disabled=\"uinfo.username !== 'admin'\"\n                >删除</el-button\n              >\n            </template>\n          </el-table-column>\n        </el-table>\n        <!--activity-->\n        <div v-if=\"type == 'activity'\">\n          <el-table\n            :data=\"tableData\"\n            border\n            style=\"width: 100%;min-height:500px\"\n            v-loading=\"loading\"\n            element-loading-text=\"拼命加载中\"\n            element-loading-spinner=\"el-icon-loading\"\n          >\n            <el-table-column fixed prop=\"createtime\" label=\"创建日期\">\n              <template slot-scope=\"scope\">{{\n                scope.row.activity_statetime | dataFormat\n              }}</template>\n            </el-table-column>\n            <el-table-column prop=\"nickname\" label=\"作者\"></el-table-column>\n            <el-table-column prop=\"activity_title\" label=\"活动名称\">\n              <template slot-scope=\"scope\">{{\n                scope.row.activity_title\n              }}</template>\n            </el-table-column>\n            <el-table-column\n              prop=\"activity_locale\"\n              label=\"地点\"\n            ></el-table-column>\n            <el-table-column\n              prop=\"activity_lable\"\n              label=\"分类\"\n            ></el-table-column>\n            <el-table-column prop=\"ispublic\" label=\"状态\">\n              <template slot-scope=\"scope\">\n                <span style=\"color:#6cbb7a\" v-if=\"scope.row.ispublic == 1\"\n                  >审核通过</span\n                >\n                <span style=\"color:#409eff\" v-if=\"scope.row.ispublic == 0\"\n                  >未审核</span\n                >\n                <span style=\"color:#f60c6c\" v-if=\"scope.row.ispublic == -1\"\n                  >审核未通过</span\n                >\n              </template>\n            </el-table-column>\n            <el-table-column prop=\"admin\" label=\"审核人\"></el-table-column>\n            <el-table-column fixed=\"right\" label=\"操作\" width=\"170\">\n              <template slot-scope=\"scope\">\n                <el-button @click=\"shenhe(scope.row)\" type=\"text\" size=\"small\"\n                  >审核</el-button\n                >\n                <el-button\n                  type=\"text\"\n                  size=\"small\"\n                  @click=\"del(scope.row.activity_id)\"\n                  :disabled=\"uinfo.username !== 'admin'\"\n                  >删除</el-button\n                >\n              </template>\n            </el-table-column>\n          </el-table>\n        </div>\n\n        <!--oldstuff-->\n        <div v-if=\"type == 'oldstuff'\">\n          <el-table\n            :data=\"tableData\"\n            border\n            style=\"width: 100%;min-height:500px\"\n            v-loading=\"loading\"\n            element-loading-text=\"拼命加载中\"\n            element-loading-spinner=\"el-icon-loading\"\n          >\n            <el-table-column fixed prop=\"createtime\" label=\"创建日期\">\n              <template slot-scope=\"scope\">{{\n                scope.row.createtime | dataFormat\n              }}</template>\n            </el-table-column>\n            <el-table-column prop=\"nickname\" label=\"作者\"></el-table-column>\n            <el-table-column prop=\"nickname\" label=\"图片\">\n              <template slot-scope=\"scope\">\n                <img\n                  :src=\"scope.row.oldstuff_img\"\n                  alt=\"图片地址错误\"\n                  height=\"100px\"\n                />\n              </template>\n            </el-table-column>\n            <el-table-column\n              prop=\"oldstuff_name\"\n              label=\"名称\"\n            ></el-table-column>\n            <el-table-column\n              prop=\"oldstuff_lable\"\n              label=\"分类\"\n            ></el-table-column>\n            <el-table-column prop=\"ispublic\" label=\"状态\">\n              <template slot-scope=\"scope\">\n                <span style=\"color:#6cbb7a\" v-if=\"scope.row.ispublic == 1\"\n                  >审核通过</span\n                >\n                <span style=\"color:#409eff\" v-if=\"scope.row.ispublic == 0\"\n                  >未审核</span\n                >\n                <span style=\"color:#f60c6c\" v-if=\"scope.row.ispublic == -1\"\n                  >审核未通过</span\n                >\n              </template>\n            </el-table-column>\n            <el-table-column prop=\"admin\" label=\"审核人\"></el-table-column>\n            <el-table-column fixed=\"right\" label=\"操作\" width=\"170\">\n              <template slot-scope=\"scope\">\n                <el-button @click=\"shenhe(scope.row)\" type=\"text\" size=\"small\"\n                  >审核</el-button\n                >\n                <el-button\n                  type=\"text\"\n                  size=\"small\"\n                  @click=\"del(scope.row.oldstuff_id)\"\n                  :disabled=\"uinfo.username !== 'admin'\"\n                  >删除</el-button\n                >\n              </template>\n            </el-table-column>\n          </el-table>\n        </div>\n\n        <!--job-->\n        <div v-if=\"type == 'job'\">\n          <el-table\n            :data=\"tableData\"\n            border\n            style=\"width: 100%;min-height:500px\"\n            v-loading=\"loading\"\n            element-loading-text=\"拼命加载中\"\n            element-loading-spinner=\"el-icon-loading\"\n          >\n            <el-table-column fixed prop=\"createtime\" label=\"创建日期\">\n              <template slot-scope=\"scope\">{{\n                scope.row.createtime | dataFormat\n              }}</template>\n            </el-table-column>\n            <el-table-column prop=\"nickname\" label=\"作者\"></el-table-column>\n            <el-table-column prop=\"job_name\" label=\"岗位名称\">\n              <template slot-scope=\"scope\">{{ scope.row.job_name }}</template>\n            </el-table-column>\n            <el-table-column prop=\"job_salary\" label=\"薪资\"></el-table-column>\n            <el-table-column prop=\"job_lable\" label=\"分类\"></el-table-column>\n            <el-table-column prop=\"ispublic\" label=\"状态\">\n              <template slot-scope=\"scope\">\n                <span style=\"color:#6cbb7a\" v-if=\"scope.row.ispublic == 1\"\n                  >审核通过</span\n                >\n                <span style=\"color:#409eff\" v-if=\"scope.row.ispublic == 0\"\n                  >未审核</span\n                >\n                <span style=\"color:#f60c6c\" v-if=\"scope.row.ispublic == -1\"\n                  >审核未通过</span\n                >\n              </template>\n            </el-table-column>\n            <el-table-column prop=\"admin\" label=\"审核人\"></el-table-column>\n            <el-table-column fixed=\"right\" label=\"操作\" width=\"170\">\n              <template slot-scope=\"scope\">\n                <el-button @click=\"shenhe(scope.row)\" type=\"text\" size=\"small\"\n                  >审核</el-button\n                >\n                <el-button\n                  type=\"text\"\n                  size=\"small\"\n                  @click=\"del(scope.row.job_id)\"\n                  :disabled=\"uinfo.username !== 'admin'\"\n                  >删除</el-button\n                >\n              </template>\n            </el-table-column>\n          </el-table>\n        </div>\n\n        <!--article-->\n        <div v-if=\"type == 'article'\">\n          <el-table\n            :data=\"tableData\"\n            border\n            style=\"width: 100%;min-height:500px\"\n            v-loading=\"loading\"\n            element-loading-text=\"拼命加载中\"\n            element-loading-spinner=\"el-icon-loading\"\n          >\n            <el-table-column fixed prop=\"createtime\" label=\"创建日期\">\n              <template slot-scope=\"scope\">{{\n                scope.row.article_createtime | dataFormat\n              }}</template>\n            </el-table-column>\n            <el-table-column prop=\"nickname\" label=\"作者\"></el-table-column>\n            <el-table-column prop=\"help_title\" label=\"标题\">\n              <template slot-scope=\"scope\">{{\n                scope.row.article_title\n              }}</template>\n            </el-table-column>\n            <el-table-column\n              prop=\"article_lable\"\n              label=\"分类\"\n            ></el-table-column>\n            <el-table-column prop=\"ispublic\" label=\"状态\">\n              <template slot-scope=\"scope\">\n                <span style=\"color:#6cbb7a\" v-if=\"scope.row.ispublic == 1\"\n                  >审核通过</span\n                >\n                <span style=\"color:#409eff\" v-if=\"scope.row.ispublic == 0\"\n                  >未审核</span\n                >\n                <span style=\"color:#f60c6c\" v-if=\"scope.row.ispublic == -1\"\n                  >审核未通过</span\n                >\n              </template>\n            </el-table-column>\n            <el-table-column prop=\"admin\" label=\"审核人\"></el-table-column>\n            <el-table-column fixed=\"right\" label=\"操作\" width=\"170\">\n              <template slot-scope=\"scope\">\n                <el-button @click=\"shenhe(scope.row)\" type=\"text\" size=\"small\"\n                  >审核</el-button\n                >\n                <el-button\n                  type=\"text\"\n                  size=\"small\"\n                  @click=\"del(scope.row.article_id)\"\n                  :disabled=\"uinfo.username !== 'admin'\"\n                  >删除</el-button\n                >\n              </template>\n            </el-table-column>\n          </el-table>\n        </div>\n\n        <el-pagination\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :page-sizes=\"[10, 20, 50, 100]\"\n          :page-size=\"pagelistquery.pagesize\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"pagelistquery.total\"\n          style=\"margin-top: 20px;\"\n        ></el-pagination>\n      </div>\n    </el-main>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex'\nexport default {\n  name: 'content',\n  computed: {\n    ...mapState({\n      uinfo: state => state.user.uinfo\n    })\n  },\n  data() {\n    return {\n      loading: false,\n      dialog: false,\n      pagelistquery: {\n        user: '',\n        admin: '',\n        state: '0',\n        search: '',\n        type: 'help',\n        total: 0,\n        page: 1,\n        pagesize: 10\n      },\n      type: 'help',\n      thiscontent: {},\n      tableData: [],\n      content: {}\n    }\n  },\n  methods: {\n    shenhe(row) {\n      this.content = row\n      this.dialog = true\n    },\n    async changestate(state) {\n      let id\n      if (this.pagelistquery.type == 'help') {\n        id = this.content.help_id\n      }\n      if (this.pagelistquery.type == 'activity') {\n        id = this.content.activity_id\n      }\n      if (this.pagelistquery.type == 'job') {\n        id = this.content.job_id\n      }\n      if (this.pagelistquery.type == 'oldstuff') {\n        id = this.content.oldstuff_id\n      }\n      if (this.pagelistquery.type == 'article') {\n        id = this.content.article_id\n      }\n      let data = {\n        id: id,\n        type: this.pagelistquery.type,\n        state: state\n      }\n      let res = await this.$axios.post(\n        '/admin/changecontentstate',\n        this.qs.stringify(data)\n      )\n      if (res.data.state.type === 'SUCCESS') {\n        this.$message.success('操作成功')\n        this.dialog = false\n        this.getcontentlist()\n      }\n    },\n    async del(id) {\n        this.$confirm('确认删除吗?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          let data = {\n            id: id,\n            type: this.pagelistquery.type\n          }\n            this.$axios.post(\n            '/admin/admindelete',\n            this.qs.stringify(data)\n          ).then((res) => {\n              if (res.data.state.type === 'SUCCESS') {\n                  this.$message.success('删除成功')\n                  this.getcontentlist()\n              }\n          })\n        })\n    },\n    handleSizeChange(val) {\n      this.pagelistquery.pagesize = val\n      this.getcontentlist()\n    },\n    handleCurrentChange(val) {\n      this.pagelistquery.page = val\n      this.getcontentlist()\n    },\n    async getcontentlist() {\n      this.loading = true\n      this.type = this.pagelistquery.type\n      let res = await this.$axios.post(\n        '/admin/content',\n        this.qs.stringify(this.pagelistquery)\n      )\n      if (res.data.state.type === 'SUCCESS') {\n        this.tableData = res.data.data\n        this.pagelistquery.total = res.data.count\n        this.loading = false\n      }\n    }\n  },\n  created() {\n    this.getcontentlist()\n  }\n}\n</script>\n<style scoped>\n.top {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: calc(100% - 35px);\n  padding: 12px 16px;\n  background-color: #fff;\n}\n.content {\n  position: relative;\n  width: 100%;\n}\n.main {\n  margin-top: 40px;\n  padding: 20px;\n  background-color: #fff;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}