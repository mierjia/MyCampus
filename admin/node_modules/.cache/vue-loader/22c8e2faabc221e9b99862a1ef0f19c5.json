{"remainingRequest":"E:\\download\\InterConnect\\admin\\node_modules\\@vue\\cli-service\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!E:\\download\\InterConnect\\admin\\src\\views\\myself\\myself.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\download\\InterConnect\\admin\\src\\views\\myself\\myself.vue","mtime":1718016173000},{"path":"E:\\download\\InterConnect\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\download\\InterConnect\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1731663336609},{"path":"E:\\download\\InterConnect\\admin\\node_modules\\@vue\\cli-service\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCcKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnbXlzZWxmJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbmFtZTogZmFsc2UsCiAgICAgIHBhc3N3b3JkOiBmYWxzZSwKICAgICAgZm9ybUlubGluZTogewogICAgICAgIHVzZXI6ICcnLAogICAgICAgIHJlZ2lvbjogJycKICAgICAgfSwKICAgICAgcGFnZWxpc3RxdWVyeTogewogICAgICAgIHRvdGFsOiAwLAogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgcGFnZXNpemU6IDEwCiAgICAgIH0sCiAgICAgIHRhYmxlRGF0YTogW10gLy/liJfooajkv6Hmga8KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZSh7CiAgICAgIHVpbmZvOiBzdGF0ZSA9PiBzdGF0ZS51c2VyLnVpbmZvCiAgICB9KQogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgY2hhbmdlYWRtaW51c2VyKCkgewogICAgICBsZXQgcmVzID0gYXdhaXQgdGhpcy4kYXhpb3MucG9zdCgKICAgICAgICAnL2FkbWluL2NoYW5nZWFkbWludXNlcicsCiAgICAgICAgdGhpcy5xcy5zdHJpbmdpZnkodGhpcy50YWJsZURhdGEpCiAgICAgICkKICAgICAgaWYgKHJlcy5kYXRhLnN0YXRlLnR5cGUgPT09ICdTVUNDRVNTJykgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5pON5L2c5oiQ5YqfJykKICAgICAgICB0aGlzLmdldGFkbWluKCkKICAgICAgICB0aGlzLm5hbWUgPSBmYWxzZQogICAgICAgIHRoaXMucGFzc3dvcmQgPSBmYWxzZQogICAgICB9CiAgICB9LAoKICAgIGFzeW5jIGdldGFkbWluKCkgewogICAgICBsZXQgcmVzID0gYXdhaXQgdGhpcy4kYXhpb3MucG9zdCgnL2FkbWluL2dldGFkbWluJykKICAgICAgaWYgKHJlcy5kYXRhLnN0YXRlLnR5cGUgPT09ICdTVUNDRVNTJykgewogICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzLmRhdGEuZGF0YQogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRhZG1pbigpCiAgfQp9Cg=="},{"version":3,"sources":["myself.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+IA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"myself.vue","sourceRoot":"src/views/myself","sourcesContent":["<template>\n  <div class=\"myself\">\n    <el-main>\n      <div class=\"top\">\n        <el-breadcrumb separator=\"/\">\n          <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\n          <!-- <el-breadcrumb-item>用户管理</el-breadcrumb-item> -->\n          <el-breadcrumb-item>个人中心</el-breadcrumb-item>\n        </el-breadcrumb>\n      </div>\n\n      <div class=\"main\">\n        <div class=\"user-info clearfix\">\n          <h4>账号信息</h4>\n          <el-divider></el-divider>\n          <ul class=\"first-userInfo\">\n            <li class=\"user-li\">\n              账号 :\n              <span class=\"user-name\" title=\"726647774@qq.com\">{{\n                tableData.username\n              }}</span>\n            </li>\n            <li>\n              昵称 :\n              <span>{{ tableData.nickname }}</span>\n              <el-button type=\"text\" size=\"small\" @click=\"name = true\"\n                >修改昵称</el-button\n              >\n              <el-input\n                style\n                v-if=\"name\"\n                v-model=\"tableData.nickname\"\n                @keyup.enter.native=\"changeadminuser()\"\n              ></el-input>\n            </li>\n            <li>\n              账号创建时间 :\n              <span>{{ tableData.user_createtime | dataFormat }}</span>\n            </li>\n          </ul>\n          <ul>\n            <li>\n              账号状态 :\n              <span v-if=\"tableData.user_state == '1'\">启用</span>\n              <span v-else>停用</span>\n            </li>\n            <li>\n              身份 :\n              <span\n                style=\"margin-left:20px\"\n                v-if=\"tableData.username == 'admin'\"\n                >超级管理员</span\n              >\n              <span style=\"margin-left:20px\" v-else>普通管理员管理员</span>\n            </li>\n            <li>\n              权限 :\n              <span\n                style=\"margin-left:20px\"\n                v-if=\"tableData.issh == '1' && tableData.username !== 'admin'\"\n                >审核中心</span\n              >\n              <span\n                style=\"margin-left:20px\"\n                v-if=\"tableData.isyh == '1' && tableData.username !== 'admin'\"\n                >用户中心</span\n              >\n              <span\n                style=\"margin-left:20px\"\n                v-if=\"tableData.isgl == '1' && tableData.username !== 'admin'\"\n                >平台管理中心</span\n              >\n              <span\n                style=\"margin-left:20px\"\n                v-if=\"tableData.isfk == '1' && tableData.username !== 'admin'\"\n                >反馈中心</span\n              >\n              <span\n                style=\"margin-left:20px\"\n                v-if=\"tableData.username == 'admin'\"\n                >超级管理员拥有最高权限</span\n              >\n            </li>\n          </ul>\n          <ul>\n            <li>\n              密码 :\n              <el-button type=\"text\" size=\"small\" @click=\"password = true\"\n                >修改密码</el-button\n              >\n              <el-input\n                style\n                v-if=\"password\"\n                v-model=\"tableData.newpassword\"\n                @keyup.enter.native=\"changeadminuser()\"\n              ></el-input>\n            </li>\n          </ul>\n          <div style=\"clear:both\"></div>\n          <!--占位-->\n        </div>\n        <div class=\"renwu\">\n          <h4>职责</h4>\n          <el-divider></el-divider>\n          <div\n            v-if=\"uinfo.jurisdiction.issh == '1' || uinfo.username == 'admin'\"\n          >\n            <span>网站内容的审核，用户评论的审核</span>\n            <el-divider></el-divider>\n          </div>\n          <div\n            v-if=\"uinfo.jurisdiction.isyh == '1' || uinfo.username == 'admin'\"\n          >\n            <span>用户的学生认证，团体认证，用户账号状态的管理</span>\n            <el-divider></el-divider>\n          </div>\n          <div\n            v-if=\"uinfo.jurisdiction.isgl == '1' || uinfo.username == 'admin'\"\n          >\n            <span>活动发布的管理与审核，各模块的管理</span>\n            <el-divider></el-divider>\n          </div>\n          <div\n            v-if=\"uinfo.jurisdiction.isfk == '1' || uinfo.username == 'admin'\"\n          >\n            <span>用户反馈信息的管理，用户举报信息的管理</span>\n            <el-divider></el-divider>\n          </div>\n          <div v-if=\"uinfo.username == 'admin'\">\n            <span>管理员账号的管理，网站内容的删除</span>\n            <el-divider></el-divider>\n          </div>\n          <div v-if=\"uinfo.user_state == '0'\">\n            <span>你的账号现在是停用状态</span>\n            <el-divider></el-divider>\n          </div>\n        </div>\n      </div>\n    </el-main>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex'\n\nexport default {\n  name: 'myself',\n  data() {\n    return {\n      name: false,\n      password: false,\n      formInline: {\n        user: '',\n        region: ''\n      },\n      pagelistquery: {\n        total: 0,\n        page: 1,\n        pagesize: 10\n      },\n      tableData: [] //列表信息\n    }\n  },\n  computed: {\n    ...mapState({\n      uinfo: state => state.user.uinfo\n    })\n  },\n  methods: {\n    async changeadminuser() {\n      let res = await this.$axios.post(\n        '/admin/changeadminuser',\n        this.qs.stringify(this.tableData)\n      )\n      if (res.data.state.type === 'SUCCESS') {\n        this.$message.success('操作成功')\n        this.getadmin()\n        this.name = false\n        this.password = false\n      }\n    },\n\n    async getadmin() {\n      let res = await this.$axios.post('/admin/getadmin')\n      if (res.data.state.type === 'SUCCESS') {\n        this.tableData = res.data.data\n      }\n    }\n  },\n  created() {\n    this.getadmin()\n  }\n}\n</script>\n<style scoped>\n.top {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: calc(100% - 35px);\n  padding: 12px 16px;\n  background-color: #fff;\n}\n.myself {\n  position: relative;\n  width: 100%;\n}\n.main {\n  margin-top: 40px;\n  padding: 2px 20px 20px 20px;\n  background-color: #fff;\n}\n.first-userInfo {\n  padding-left: 20px;\n}\n.user-info ul {\n  float: left;\n  width: 30%;\n  margin-top: -10px;\n}\n.user-info li {\n  margin-top: 10px;\n}\n</style>\n"]}]}