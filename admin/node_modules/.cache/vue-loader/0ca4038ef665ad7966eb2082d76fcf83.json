{"remainingRequest":"E:\\download\\InterConnect\\admin\\node_modules\\@vue\\cli-service\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!E:\\download\\InterConnect\\admin\\src\\views\\message\\report.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\download\\InterConnect\\admin\\src\\views\\message\\report.vue","mtime":1717954444000},{"path":"E:\\download\\InterConnect\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\download\\InterConnect\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1731663336609},{"path":"E:\\download\\InterConnect\\admin\\node_modules\\@vue\\cli-service\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnYWRtaW4nLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByZXN1bHQ6ICcnLAogICAgICBjaGFuZ2VwYXNzd29yZDoge30sCiAgICAgIGRpYWxvZzogZmFsc2UsIC8v57uT5p6c5qGGCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBkaWFsb2dGb3JtVmlzaWJsZWFkZDogZmFsc2UsIC8v5re75Yqg5by55qGGCiAgICAgIGZvcm06IHt9LAogICAgICB1c2VyOiB7CiAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgICBwYXNzd29yZDE6ICcnCiAgICAgIH0sCiAgICAgIHBhZ2VsaXN0cXVlcnk6IHsKICAgICAgICB0b3RhbDogMCwKICAgICAgICBwYWdlOiAxLAogICAgICAgIHBhZ2VzaXplOiAxMCwKICAgICAgICBrZWZ1X3R5cGU6ICdqdWJhbycsCiAgICAgICAgc3RhdGU6ICcwJywKICAgICAgICBpZDogJycKICAgICAgfSwKICAgICAgcm93OiB7fSwKICAgICAgdGFibGVEYXRhOiBbXSAvL+WIl+ihqOS/oeaBrwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgamllZ3VvKHJvdykgewogICAgICB0aGlzLmRpYWxvZyA9IHRydWUKICAgICAgdGhpcy5yb3cgPSByb3cKICAgIH0sCiAgICBhc3luYyBzZXRqaWVndW8oKSB7CiAgICAgIGxldCBkYXRhID0gewogICAgICAgIGp1YmFvX2lkOiB0aGlzLnJvdy5qdWJhb19pZCwKICAgICAgICByZXN1bHQ6IHRoaXMucmVzdWx0CiAgICAgIH0KICAgICAgbGV0IHJlcyA9IGF3YWl0IHRoaXMuJGF4aW9zLnBvc3QoCiAgICAgICAgJy9hZG1pbi9jaGFuZ3Jlc3VsdCcsCiAgICAgICAgdGhpcy5xcy5zdHJpbmdpZnkoZGF0YSkKICAgICAgKQogICAgICBpZiAocmVzLmRhdGEuc3RhdGUudHlwZSA9PT0gJ1NVQ0NFU1MnKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfmiJDlip8nKQogICAgICAgIHRoaXMua2VmdWxpc3QoKQogICAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2UKICAgICAgfQogICAgfSwKCiAgICBhc3luYyBjaGFuZ2VzdGF0ZShyb3csIHN0YXRlKSB7CiAgICAgIGxldCBkYXRhID0gewogICAgICAgIGtlZnVfaWQ6IHJvdy5qdWJhb19pZCwKICAgICAgICBrZWZ1X3N0YXRlOiBzdGF0ZSwKICAgICAgICB0eXBlOiAnanViYW8nCiAgICAgIH0KICAgICAgbGV0IHJlcyA9IGF3YWl0IHRoaXMuJGF4aW9zLnBvc3QoCiAgICAgICAgJy9hZG1pbi9jaGFuZ2tlZnVzdGF0ZScsCiAgICAgICAgdGhpcy5xcy5zdHJpbmdpZnkoZGF0YSkKICAgICAgKQogICAgICBpZiAocmVzLmRhdGEuc3RhdGUudHlwZSA9PT0gJ1NVQ0NFU1MnKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfnirbmgIHmm7TmlLnmiJDlip8nKQogICAgICAgIHRoaXMua2VmdWxpc3QoKQogICAgICB9CiAgICB9LAogICAgdG91c2VyKHJvdykgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy91c2VydXNlcicsCiAgICAgICAgcXVlcnk6IHsgdXNlcjogcm93Lmp1YmFvX3VzZXIsIGp1YmFvX2lkOiByb3cuanViYW9faWQgfQogICAgICB9KQogICAgfSwKICAgIC8v5Yig6ZmkCiAgICBhc3luYyBkZWxldGtlZnUocm93KSB7CiAgICAgICB0aGlzLiRjb25maXJtKCfnoa7orqTliKDpmaTlkJc/JywgJ+aPkOekuicsIHsKICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgICAgdGhpcy4kYXhpb3MucG9zdCgKICAgICAgICAgICAgJy9hZG1pbi9kZWxldGVrZWZ1JywKICAgICAgICAgICAgdGhpcy5xcy5zdHJpbmdpZnkoeyBpZDogcm93Lmp1YmFvX2lkLCB0eXBlOiAnanViYW8nIH0pCiAgICAgICAgICApLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdGUudHlwZSA9PT0gJ1NVQ0NFU1MnKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WIoOmZpOaIkOWKnycpCiAgICAgICAgICAgICAgICB0aGlzLmtlZnVsaXN0KCkKICAgICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0pCiAgICB9LAogICAgaGFuZGxlU2l6ZUNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5wYWdlbGlzdHF1ZXJ5LnBhZ2VzaXplID0gdmFsCiAgICAgIHRoaXMua2VmdWxpc3QoKQogICAgfSwKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMucGFnZWxpc3RxdWVyeS5wYWdlID0gdmFsCiAgICAgIHRoaXMua2VmdWxpc3QoKQogICAgfSwKICAgIGFzeW5jIGtlZnVsaXN0KCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlCiAgICAgIGxldCByZXMgPSBhd2FpdCB0aGlzLiRheGlvcy5wb3N0KAogICAgICAgICcvYWRtaW4va2VmdWxsaXN0JywKICAgICAgICB0aGlzLnFzLnN0cmluZ2lmeSh0aGlzLnBhZ2VsaXN0cXVlcnkpCiAgICAgICkKICAgICAgaWYgKHJlcy5kYXRhLnN0YXRlLnR5cGUgPT09ICdTVUNDRVNTJykgewogICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzLmRhdGEuZGF0YQogICAgICAgIHRoaXMucGFnZWxpc3RxdWVyeS50b3RhbCA9IHJlcy5kYXRhLmNvdW50CiAgICAgICAgdGhpcy50YWJsZURhdGEuZm9yRWFjaChlbGVtZW50ID0+IHsKICAgICAgICAgIGVsZW1lbnQuanViYW9faW1nID0gSlNPTi5wYXJzZShlbGVtZW50Lmp1YmFvX2ltZykKICAgICAgICB9KQogICAgICB9CiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICB9LAogICAgc2hlbnN1KCkgewogICAgICB0aGlzLnBhZ2VsaXN0cXVlcnkuaWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5qdWJhb19pZAogICAgICB0aGlzLnBhZ2VsaXN0cXVlcnkuc3RhdGUgPSAnJwogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuJHJvdXRlLnF1ZXJ5ICYmIHRoaXMuc2hlbnN1KCkKICAgIHRoaXMua2VmdWxpc3QoKQogIH0KfQo="},{"version":3,"sources":["report.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"report.vue","sourceRoot":"src/views/message","sourcesContent":["<template>\n  <div class=\"feedback\">\n    <el-main>\n      <div class=\"top\">\n        <el-breadcrumb separator=\"/\">\n          <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\n          <el-breadcrumb-item>反馈中心</el-breadcrumb-item>\n          <el-breadcrumb-item>违规举报</el-breadcrumb-item>\n        </el-breadcrumb>\n      </div>\n\n      <div class=\"main\">\n        <div class=\"search\">\n          <el-form\n            :inline=\"true\"\n            :model=\"pagelistquery\"\n            class=\"demo-form-inline\"\n          >\n            <el-form-item>\n              <el-select v-model=\"pagelistquery.state\" placeholder=\"账号状态\">\n                <el-option label=\"已处理\" value=\"1\"></el-option>\n                <el-option label=\"未处理\" value=\"0\"></el-option>\n                <el-option label=\"标记\" value=\"2\"></el-option>\n              </el-select>\n            </el-form-item>\n            <el-form-item>\n              <el-button type=\"primary\" @click=\"kefulist\">查询</el-button>\n            </el-form-item>\n          </el-form>\n        </div>\n\n        <el-table\n          :data=\"tableData\"\n          border\n          style=\"width: 100%;min-height:500px\"\n          v-loading=\"loading\"\n          element-loading-text=\"拼命加载中\"\n          element-loading-spinner=\"el-icon-loading\"\n        >\n          <el-table-column prop=\"createtime\" label=\"创建日期\">\n            <template slot-scope=\"scope\">{{\n              scope.row.jubao_createtime | dataFormat\n            }}</template>\n          </el-table-column>\n          <el-table-column prop=\"jubao_user\" label=\"举报账号\"></el-table-column>\n          <el-table-column prop=\"jubao_url\" label=\"违规链接\">\n            <template slot-scope=\"scope\">\n              <a :href=\"scope.row.jubao_url\" target=\"_blank\">举报地址</a>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"jubao_content\" label=\"详情\">\n            <template slot-scope=\"scope\">\n              <el-popover placement=\"right\" width=\"400\" trigger=\"hover\">\n                <span>\n                  <el-form status-icon label-width=\"100px\">\n                    <el-form-item label=\"举报内容\">{{\n                      scope.row.jubao_content\n                    }}</el-form-item>\n                    <el-form-item label=\"截图\">\n                      <div>\n                        <img\n                          v-for=\"(img, id) in scope.row.jubao_img\"\n                          style=\"width:250px ;margin-top:5px\"\n                          :key=\"id\"\n                          :src=\"img.url\"\n                          alt\n                        />\n                      </div>\n                    </el-form-item>\n                    <el-form-item label=\"处理结果\">{{\n                      scope.row.result\n                    }}</el-form-item>\n                  </el-form>\n                </span>\n                <el-button type=\"text\" slot=\"reference\">查看详情</el-button>\n              </el-popover>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"状态\" prop=\"jubao_state\">\n            <template slot-scope=\"scope\">\n              <span style=\"color:#409eff\" v-if=\"scope.row.jubao_state == 0\"\n                >未处理</span\n              >\n              <span style=\"color:#6cbb7a\" v-if=\"scope.row.jubao_state == 1\"\n                >已处理</span\n              >\n              <span style=\"color:#f60c6c\" v-if=\"scope.row.jubao_state == 2\"\n                >标记</span\n              >\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"admin\" label=\"管理员\"></el-table-column>\n          <el-table-column\n            prop=\"nickname\"\n            fixed=\"right\"\n            label=\"操作\"\n            width=\"200\"\n          >\n            <template slot-scope=\"scope\">\n              <el-button type=\"text\" size=\"small\" @click=\"touser(scope.row)\"\n                >去处理</el-button\n              >\n              <el-button\n                type=\"text\"\n                size=\"small\"\n                @click=\"changestate(scope.row, 2)\"\n                >标记</el-button\n              >\n              <el-button type=\"text\" size=\"small\" @click=\"jieguo(scope.row)\"\n                >已处理</el-button\n              >\n\n              <el-button\n                type=\"text\"\n                size=\"small\"\n                :disabled=\"scope.row.username == 'admin'\"\n                @click=\"deletkefu(scope.row)\"\n                >删除</el-button\n              >\n            </template>\n          </el-table-column>\n        </el-table>\n        <el-dialog title=\"处理结果\" :visible.sync=\"dialog\" width=\"500px\">\n          <el-form :model=\"result\">\n            <el-form-item label>\n              <el-input type=\"textarea\" v-model=\"result\"></el-input>\n            </el-form-item>\n          </el-form>\n          <div slot=\"footer\" class=\"dialog-footer\">\n            <el-button @click=\"dialog = false\">取 消</el-button>\n            <el-button type=\"primary\" @click=\"setjieguo\">确 定</el-button>\n          </div>\n        </el-dialog>\n        <!--分页-->\n        <el-pagination\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :page-sizes=\"[10, 20, 50, 100]\"\n          :page-size=\"pagelistquery.pagesize\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"pagelistquery.total\"\n          style=\"margin-top: 20px;\"\n        ></el-pagination>\n      </div>\n    </el-main>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'admin',\n  data() {\n    return {\n      result: '',\n      changepassword: {},\n      dialog: false, //结果框\n      loading: false,\n      dialogFormVisibleadd: false, //添加弹框\n      form: {},\n      user: {\n        username: '',\n        password: '',\n        password1: ''\n      },\n      pagelistquery: {\n        total: 0,\n        page: 1,\n        pagesize: 10,\n        kefu_type: 'jubao',\n        state: '0',\n        id: ''\n      },\n      row: {},\n      tableData: [] //列表信息\n    }\n  },\n  methods: {\n    jieguo(row) {\n      this.dialog = true\n      this.row = row\n    },\n    async setjieguo() {\n      let data = {\n        jubao_id: this.row.jubao_id,\n        result: this.result\n      }\n      let res = await this.$axios.post(\n        '/admin/changresult',\n        this.qs.stringify(data)\n      )\n      if (res.data.state.type === 'SUCCESS') {\n        this.$message.success('成功')\n        this.kefulist()\n        this.dialog = false\n      }\n    },\n\n    async changestate(row, state) {\n      let data = {\n        kefu_id: row.jubao_id,\n        kefu_state: state,\n        type: 'jubao'\n      }\n      let res = await this.$axios.post(\n        '/admin/changkefustate',\n        this.qs.stringify(data)\n      )\n      if (res.data.state.type === 'SUCCESS') {\n        this.$message.success('状态更改成功')\n        this.kefulist()\n      }\n    },\n    touser(row) {\n      this.$router.push({\n        path: '/useruser',\n        query: { user: row.jubao_user, jubao_id: row.jubao_id }\n      })\n    },\n    //删除\n    async deletkefu(row) {\n       this.$confirm('确认删除吗?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(res => {\n          this.$axios.post(\n            '/admin/deletekefu',\n            this.qs.stringify({ id: row.jubao_id, type: 'jubao' })\n          ).then(res => {\n              if (res.data.state.type === 'SUCCESS') {\n                this.$message.success('删除成功')\n                this.kefulist()\n              }\n          })\n        })\n    },\n    handleSizeChange(val) {\n      this.pagelistquery.pagesize = val\n      this.kefulist()\n    },\n    handleCurrentChange(val) {\n      this.pagelistquery.page = val\n      this.kefulist()\n    },\n    async kefulist() {\n      this.loading = true\n      let res = await this.$axios.post(\n        '/admin/kefullist',\n        this.qs.stringify(this.pagelistquery)\n      )\n      if (res.data.state.type === 'SUCCESS') {\n        this.tableData = res.data.data\n        this.pagelistquery.total = res.data.count\n        this.tableData.forEach(element => {\n          element.jubao_img = JSON.parse(element.jubao_img)\n        })\n      }\n      this.loading = false\n    },\n    shensu() {\n      this.pagelistquery.id = this.$route.query.jubao_id\n      this.pagelistquery.state = ''\n    }\n  },\n  created() {\n    this.$route.query && this.shensu()\n    this.kefulist()\n  }\n}\n</script>\n<style scoped>\n.top {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: calc(100% - 35px);\n  padding: 12px 16px;\n  background-color: #fff;\n}\n.feedback {\n  position: relative;\n  width: 100%;\n}\n.main {\n  margin-top: 40px;\n  padding: 20px;\n  background-color: #fff;\n}\n</style>\n"]}]}