{"remainingRequest":"E:\\download\\InterConnect\\admin\\node_modules\\@vue\\cli-service\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!E:\\download\\InterConnect\\admin\\src\\views\\usermanage\\useruser.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\download\\InterConnect\\admin\\src\\views\\usermanage\\useruser.vue","mtime":1641975356000},{"path":"E:\\download\\InterConnect\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\download\\InterConnect\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1731663336609},{"path":"E:\\download\\InterConnect\\admin\\node_modules\\@vue\\cli-service\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBBY3Rpb25zIH0gZnJvbSAidnVleCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInVzZXJ1c2VyIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2hhbmdlcGFzc3dvcmQ6IHt9LCAvL+S/ruaUueWvhueggeW8ueeql+aVsOaNrgogICAgICBjaGFuZ2VyZWFsc3RhdGV1c2VyOiB7fSwgLy/mraPlnKjlrqHmoLjnmoTnlKjmiLfkv6Hmga8KICAgICAgY2hhbmdlY29tcGFueXN0YXRldXNlcjoge30sIC8v5YWs5Y+46K6k6K+B5L+h5oGvCiAgICAgIGRpYWxvZ3N0dWRlbnQ6IGZhbHNlLAogICAgICBkaWFsb2djb21wYW55OiBmYWxzZSwKICAgICAgZGlhbG9ncHc6IGZhbHNlLCAvL+WvhueggeahhgogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgcGFnZWxpc3RxdWVyeTogewogICAgICAgIHJlYWxzdGF0ZTogIiIsCiAgICAgICAgY29tcGFueXN0YXRlOiAiIiwKICAgICAgICB0b3RhbDogMCwKICAgICAgICBwYWdlOiAxLAogICAgICAgIHBhZ2VzaXplOiAxMCwKICAgICAgICB1c2VyOiAiIiwKCiAgICAgIH0sCiAgICAgIHRhYmxlRGF0YTogW10sIC8v5YiX6KGo5L+h5oGvCgogICAgICBhY3RpdmF0aW9udHRpbWU6IHsKICAgICAgICB0aW1lOiAwLAogICAgICAgIHVzZXJpZDogIiIsCiAgICAgICAganViYW9faWQ6ICIiLAogICAgICAgIGRpYWxvZzogZmFsc2UgLy/lr4bnoIHmoYYKICAgICAgfQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZSh7CiAgICAgIHVpbmZvOiBzdGF0ZSA9PiBzdGF0ZS51c2VyLnVpbmZvCiAgICB9KQogIH0sCiAgZmlsdGVyczogewogICAgdXNlcnN0YXRlZmlsdGVyKHN0YXRlKSB7CiAgICAgIGlmIChzdGF0ZSA9PSAzKSB7CiAgICAgICAgcmV0dXJuICLorqTor4HmiJDlip8iOwogICAgICB9CiAgICAgIGlmIChzdGF0ZSA9PSAyKSB7CiAgICAgICAgcmV0dXJuICLlvoXlrqHmoLgiOwogICAgICB9CiAgICAgIGlmIChzdGF0ZSA9PSAxKSB7CiAgICAgICAgcmV0dXJuICLmnKrorqTor4EiOwogICAgICB9CiAgICAgIGlmIChzdGF0ZSA9PSAwKSB7CiAgICAgICAgcmV0dXJuICLorqTor4HlpLHotKUiOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBhY3RpdmF0aW9uZGF0ZShyb3cpIHsKICAgICAgdGhpcy5hY3RpdmF0aW9udHRpbWUudXNlcmlkID0gcm93LnVzZXJfaWQ7CiAgICAgIHRoaXMuYWN0aXZhdGlvbnR0aW1lLmRpYWxvZyA9IHRydWU7CiAgICB9LAogICAgLy/kv67mlLnotKblj7flsIHnpoHml7bpl7QKICAgIGFzeW5jIGNoYW5nZWFjdGl2YXRpb25kYXRlKCkgewogICAgICB0aGlzLmNoYW5nZXBhc3N3b3JkLnR5cGUgPSAiYWRtaW51c2VyIjsKICAgICAgbGV0IHJlcyA9IGF3YWl0IHRoaXMuJGF4aW9zLnBvc3QoCiAgICAgICAgIi9hZG1pbi9jaGFuZ2VhY3RpdmF0aW9uZGF0ZSIsCiAgICAgICAgdGhpcy5xcy5zdHJpbmdpZnkodGhpcy5hY3RpdmF0aW9udHRpbWUpCiAgICAgICk7CiAgICAgIGlmIChyZXMuZGF0YS5zdGF0ZS50eXBlID09PSAiU1VDQ0VTUyIpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuaTjeS9nOaIkOWKnyIpOwogICAgICAgIHRoaXMuZ2V0dXNlcmxpc3QoKTsKICAgICAgICB0aGlzLmFjdGl2YXRpb250dGltZS5kaWFsb2cgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGNoYW5nZXN0YXRlKHR5cGUsIHN0YXRlLCB1c2VyaWQsIGNvbXBhbnluYW1lKSB7CiAgICAgIGxldCBkYXRhID0gewogICAgICAgIHR5cGU6IHR5cGUsCiAgICAgICAgc3RhdGU6IHN0YXRlLAogICAgICAgIHVzZXJfaWQ6IHVzZXJpZCwKICAgICAgICBjb21wYW55X25hbWU6IGNvbXBhbnluYW1lCiAgICAgIH07CiAgICAgIGxldCByZXMgPSBhd2FpdCB0aGlzLiRheGlvcy5wb3N0KAogICAgICAgICIvYWRtaW4vY2hhbmdldXNlcnN0YXRlIiwKICAgICAgICB0aGlzLnFzLnN0cmluZ2lmeShkYXRhKQogICAgICApOwogICAgICBpZiAocmVzLmRhdGEuc3RhdGUudHlwZSA9PT0gIlNVQ0NFU1MiKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmk43kvZzmiJDlip/miJDlip8iKTsKICAgICAgICB0aGlzLmdldHVzZXJsaXN0KCk7CiAgICAgICAgdGhpcy5kaWFsb2dzdHVkZW50ID0gZmFsc2U7CiAgICAgICAgdGhpcy5kaWFsb2djb21wYW55ID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBjaGFuZ2Vwdyhyb3cpIHsKICAgICAgY29uc29sZS5sb2coMTExKTsKICAgICAgdGhpcy5kaWFsb2dwdyA9IHRydWU7CiAgICAgIHRoaXMuY2hhbmdlcGFzc3dvcmQgPSByb3c7CiAgICB9LAogICAgLy/kv67mlLnlr4bnoIEKICAgIGFzeW5jIGNoYW5nZSgpIHsKICAgICAgdGhpcy5jaGFuZ2VwYXNzd29yZC50eXBlID0gImFkbWludXNlciI7CiAgICAgIGxldCByZXMgPSBhd2FpdCB0aGlzLiRheGlvcy5wb3N0KAogICAgICAgICIvYWRtaW4vY2hhbmdlcGFzc3dvcmQiLAogICAgICAgIHRoaXMucXMuc3RyaW5naWZ5KHRoaXMuY2hhbmdlcGFzc3dvcmQpCiAgICAgICk7CiAgICAgIGlmIChyZXMuZGF0YS5zdGF0ZS50eXBlID09PSAiU1VDQ0VTUyIpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuS/ruaUueaIkOWKnyIpOwogICAgICAgIHRoaXMuZGlhbG9ncHcgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIC8v5Yig6Zmk55So5oi3CgogICAgYXN5bmMgZGVsZXRldXNlcihyb3cpIHsKICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgdXNlcl9pZDogcm93LnVzZXJfaWQsCiAgICAgICAgdXNlcnR5cGU6ICJ1c2VyIgogICAgICB9OwogICAgICAgIHRoaXMuJGNvbmZpcm0oJ+ehruiupOWIoOmZpOWQlz8nLCAn5o+Q56S6JywgewogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuJGF4aW9zLnBvc3QoCiAgICAgICAgICAgICIvYWRtaW4vZGVsZXRldXNlciIsCiAgICAgICAgICAgIHRoaXMucXMuc3RyaW5naWZ5KGRhdGEpCiAgICAgICAgICApLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXRlLnR5cGUgPT09ICJTVUNDRVNTIikgewogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5Yig6Zmk5oiQ5YqfIik7CiAgICAgICAgICAgICAgdGhpcy5kaWFsb2dwdyA9IGZhbHNlOwogICAgICAgICAgICAgIHRoaXMuZ2V0dXNlcmxpc3QoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICB9KQogICAgfSwKICAgIC8v55So5oi354q25oCB5L+u5pS5CiAgICBhc3luYyBjaGFuZ2V1c2VydXNlcnN0YXRlKHJvdykgewogICAgICBjb25zb2xlLmxvZyhyb3cpOwogICAgICBsZXQgcmVzID0gYXdhaXQgdGhpcy4kYXhpb3MucG9zdCgKICAgICAgICAiL2FkbWluL2NoYW5nZXVzZXJ1c2Vyc3RhdGUiLAogICAgICAgIHRoaXMucXMuc3RyaW5naWZ5KHJvdykKICAgICAgKTsKICAgICAgaWYgKHJlcy5kYXRhLnN0YXRlLnR5cGUgPT09ICJTVUNDRVNTIikgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi54q25oCB5L+u5pS55oiQ5YqfIik7CiAgICAgIH0KICAgIH0sCiAgICAvL+WFrOWPuOiupOivgeS/oeaBrwogICAgY2hhbmdlY29tcGFueXN0YXRlZGlhbG9nKHVzZXIpIHsKICAgICAgdGhpcy5jaGFuZ2Vjb21wYW55c3RhdGV1c2VyID0gSlNPTi5zdHJpbmdpZnkodXNlcik7CiAgICAgIHRoaXMuY2hhbmdlY29tcGFueXN0YXRldXNlciA9IEpTT04ucGFyc2UodGhpcy5jaGFuZ2Vjb21wYW55c3RhdGV1c2VyKTsKICAgICAgdGhpcy5jaGFuZ2Vjb21wYW55c3RhdGV1c2VyLmNvbXBhbnlpbWcgPSBKU09OLnBhcnNlKAogICAgICAgIHRoaXMuY2hhbmdlY29tcGFueXN0YXRldXNlci5jb21wYW55aW1nCiAgICAgICk7CiAgICAgIHRoaXMuZGlhbG9nY29tcGFueSA9IHRydWU7CiAgICB9LAogICAgLy/lrabnlJ/orqTor4Hkv6Hmga8KICAgIGNoYW5nZXJlYWxzdGF0ZWRpYWxvZyh1c2VyKSB7CiAgICAgIGNvbnNvbGUubG9nKHVzZXIpOwogICAgICB0aGlzLmNoYW5nZXJlYWxzdGF0ZXVzZXIgPSBKU09OLnN0cmluZ2lmeSh1c2VyKTsKICAgICAgdGhpcy5jaGFuZ2VyZWFsc3RhdGV1c2VyID0gSlNPTi5wYXJzZSh0aGlzLmNoYW5nZXJlYWxzdGF0ZXVzZXIpOwogICAgICB0aGlzLmNoYW5nZXJlYWxzdGF0ZXVzZXIuc3R1ZGVudGNhcmQgPSBKU09OLnBhcnNlKAogICAgICAgIHRoaXMuY2hhbmdlcmVhbHN0YXRldXNlci5zdHVkZW50Y2FyZAogICAgICApOwogICAgICB0aGlzLmRpYWxvZ3N0dWRlbnQgPSB0cnVlOwogICAgfSwKCiAgICBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLnBhZ2VsaXN0cXVlcnkucGFnZXNpemUgPSB2YWw7CiAgICAgIHRoaXMuZ2V0dXNlcmxpc3QoKTsKICAgICAgY29uc29sZS5sb2coYOavj+mhtSAke3ZhbH0g5p2hYCk7CiAgICB9LAogICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5wYWdlbGlzdHF1ZXJ5LnBhZ2UgPSB2YWw7CiAgICAgIHRoaXMuZ2V0dXNlcmxpc3QoKTsKICAgICAgY29uc29sZS5sb2coYOW9k+WJjemhtTogJHt2YWx9YCk7CiAgICB9LAogICAgYXN5bmMgZ2V0dXNlcmxpc3QoKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMucGFnZWxpc3RxdWVyeSkKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgbGV0IHJlcyA9IGF3YWl0IHRoaXMuJGF4aW9zLnBvc3QoCiAgICAgICAgIi9hZG1pbi9nZXR1c2VybGlzdCIsCiAgICAgICAgdGhpcy5xcy5zdHJpbmdpZnkodGhpcy5wYWdlbGlzdHF1ZXJ5KQogICAgICApOwogICAgICBpZiAocmVzLmRhdGEuc3RhdGUudHlwZSA9PT0gIlNVQ0NFU1MiKSB7CiAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZXMuZGF0YS5kYXRhOwogICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICB0aGlzLnBhZ2VsaXN0cXVlcnkudG90YWwgPSByZXMuZGF0YS5jb3VudDsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGp1YmFvKCkgewogICAgICBjb25zb2xlLmxvZygxKQogICAgICB0aGlzLnBhZ2VsaXN0cXVlcnkudXNlciA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnVzZXI7CiAgICAgIHRoaXMuYWN0aXZhdGlvbnR0aW1lLmp1YmFvX2lkID0gdGhpcy4kcm91dGUucXVlcnkuanViYW9faWQ7CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy4kcm91dGUucXVlcnkgLnVzZXImJiB0aGlzLmp1YmFvKCk7CiAgICB0aGlzLmdldHVzZXJsaXN0KCk7CiAgfQp9Owo="},{"version":3,"sources":["useruser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyMA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"useruser.vue","sourceRoot":"src/views/usermanage","sourcesContent":["<template>\n  <div class=\"useruser\">\n    <el-main>\n      <div class=\"top\">\n        <el-breadcrumb separator=\"/\">\n          <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\n          <el-breadcrumb-item>用户管理</el-breadcrumb-item>\n          <el-breadcrumb-item>普通用户管理</el-breadcrumb-item>\n        </el-breadcrumb>\n      </div>\n\n      <div class=\"main\">\n        <div class=\"search\">\n          <el-form :inline=\"true\" :model=\"pagelistquery\" class=\"demo-form-inline\">\n            <el-form-item>\n              <el-input v-model=\"pagelistquery.user\" placeholder=\"账号查找\"></el-input>\n            </el-form-item>\n            <el-form-item>\n              <el-select v-model=\"pagelistquery.realstate\" placeholder=\"实名认证状态\">\n                <el-option label=\"全部\" value></el-option>\n                <el-option label=\"未认证\" value=\"1\"></el-option>\n                <el-option label=\"待认证\" value=\"2\"></el-option>\n                <el-option label=\"认证通过\" value=\"3\"></el-option>\n                <el-option label=\"认证失败\" value=\"-1\"></el-option>\n              </el-select>\n            </el-form-item>\n            <el-form-item>\n              <el-select v-model=\"pagelistquery.companystate\" placeholder=\"公司认证状态\">\n                <el-option label=\"全部\" value></el-option>\n                <el-option label=\"未认证\" value=\"1\"></el-option>\n                <el-option label=\"待认证\" value=\"2\"></el-option>\n                <el-option label=\"认证通过\" value=\"3\"></el-option>\n                <el-option label=\"认证失败\" value=\"-1\"></el-option>\n              </el-select>\n            </el-form-item>\n            <el-form-item>\n              <el-button type=\"primary\" @click=\"getuserlist\">查询</el-button>\n            </el-form-item>\n          </el-form>\n        </div>\n        <el-table\n          v-loading=\"loading\"\n          element-loading-text=\"拼命加载中\"\n          element-loading-spinner=\"el-icon-loading\"\n          :data=\"tableData\"\n          border\n          style=\"width: 100%;min-height:500px\"\n        >\n          <el-table-column prop=\"username\" label=\"账号\"></el-table-column>\n          <el-table-column prop=\"nickname\" label=\"昵称\"></el-table-column>\n          <el-table-column prop=\"realstate\" label=\"实名认证状态\">\n            <template slot-scope=\"scope\">\n              <el-button\n                type=\"text\"\n                @click=\"changerealstatedialog(scope.row)\"\n              >{{ scope.row.realstate |userstatefilter}}</el-button>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"companystate\" label=\"公司认证状态\">\n            <template slot-scope=\"scope\">\n              <el-button\n                type=\"text\"\n                @click=\"changecompanystatedialog(scope.row)\"\n              >{{ scope.row.companystate |userstatefilter}}</el-button>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"activationdate\" label=\"启用时间\">\n            <template slot-scope=\"scope\">{{ scope.row.activationdate | dataFormat }}</template>\n          </el-table-column>\n          <el-table-column fixed=\"right\" label=\"操作\" width=\"170\">\n            <template slot-scope=\"scope\">\n              <el-button\n                type=\"text\"\n                size=\"small\"\n                :disabled=\"uinfo.username !== 'admin'\"\n                @click=\"activationdate(scope.row)\"\n              >封禁解封</el-button>\n              <el-button\n                type=\"text\"\n                size=\"small\"\n                :disabled=\"uinfo.username !== 'admin'\"\n                @click=\"deleteuser(scope.row)\"\n              >删除</el-button>\n              <el-button\n                type=\"text\"\n                size=\"small\"\n                :disabled=\"scope.row.username== 'admin'||uinfo.username !== 'admin'\"\n                @click=\"changepw(scope.row)\"\n              >修改密码</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n        <!--密码框-->\n        <el-dialog title=\"输入新的密码\" :visible.sync=\"dialogpw\" width=\"500px\">\n          <el-form :model=\"changepassword\">\n            <el-form-item label=\"账号\" label-width=\"100px\">{{changepassword.username}}</el-form-item>\n            <el-form-item label=\"新密码\" label-width=\"100px\">\n              <el-input v-model=\"changepassword.newpassword\" autocomplete=\"off\"></el-input>\n            </el-form-item>\n          </el-form>\n          <div slot=\"footer\" class=\"dialog-footer\">\n            <el-button @click=\"dialogpw = false\">取 消</el-button>\n            <el-button type=\"primary\" @click=\"change\">确 定</el-button>\n          </div>\n        </el-dialog>\n        <!--公司信息认证-->\n        <el-dialog title=\"公司信息认证\" :visible.sync=\"dialogcompany\">\n          <div v-if=\"changecompanystateuser.companystate===1\">\n            <img src=\"../../assets/img/noinfo.png\" width=\"100%\" alt />\n            <div style=\"width:100%;text-align:center\">该用户还没有添加公司认证信息</div>\n          </div>\n          <el-form v-else>\n            <el-form-item label=\"公司名称\">{{changecompanystateuser.companyname}}</el-form-item>\n            <el-form-item label=\"相关信息图片\">\n              <img\n                v-for=\"(img,id) in changecompanystateuser.companyimg\"\n                style=\"width:40% ;margin:20px\"\n                :key=\"id\"\n                :src=\"img.url\"\n                alt\n              />\n            </el-form-item>\n          </el-form>\n          <div slot=\"footer\" class=\"dialog-footer\" v-if=\"changecompanystateuser.companystate===1\">\n            <el-button @click=\"dialogcompany = false\">取消</el-button>\n          </div>\n          <div slot=\"footer\" v-else class=\"dialog-footer\">\n            <el-button\n              type=\"primary\"\n              v-if=\"changecompanystateuser.companystate!==3\"\n              @click=\"changestate('companystate',3,changecompanystateuser.user_id,changecompanystateuser.companyname)\"\n            >通过认证</el-button>\n            <el-button\n              type=\"danger\"\n              @click=\"changestate('companystate',0,changecompanystateuser.user_id)\"\n            >不通过认证</el-button>\n            <el-button @click=\"dialogcompany = false\">取消</el-button>\n          </div>\n        </el-dialog>\n        <!--用户信息认证-->\n        <el-dialog title=\"用户认证信息\" :visible.sync=\"dialogstudent\">\n          <div v-if=\"changerealstateuser.realstate===1\">\n            <img src=\"../../assets/img/noinfo.png\" width=\"100%\" alt />\n            <div style=\"width:100%;text-align:center\">该用户还没有添加认证信息</div>\n          </div>\n          <el-form v-else>\n            <el-form-item label=\"学号\">{{changerealstateuser.realname}}</el-form-item>\n            <el-form-item label=\"姓名\">{{changerealstateuser.studentid}}</el-form-item>\n            <el-form-item label=\"学生证\">\n              <img\n                v-for=\"(img,id) in changerealstateuser.studentcard\"\n                style=\"width:40% ;margin:20px\"\n                :key=\"id\"\n                :src=\"img.url\"\n                alt\n              />\n            </el-form-item>\n          </el-form>\n          <div slot=\"footer\" class=\"dialog-footer\" v-if=\"changerealstateuser.realstate===1\">\n            <el-button @click=\"dialogstudent = false\">取消</el-button>\n          </div>\n          <div slot=\"footer\" v-else class=\"dialog-footer\">\n            <el-button\n              type=\"primary\"\n              v-if=\"changerealstateuser.realstate!==3\"\n              @click=\"changestate('realstate',3,changerealstateuser.user_id)\"\n            >通过认证</el-button>\n            <el-button\n              type=\"danger\"\n              @click=\"changestate('realstate',0,changerealstateuser.user_id)\"\n            >不通过认证</el-button>\n            <el-button @click=\"dialogstudent = false\">取消</el-button>\n          </div>\n        </el-dialog>\n        <el-dialog title=\"封禁时间(天)\" :visible.sync=\"activationttime.dialog\" width=\"500px\">\n          <el-form :model=\"activationttime\">\n            <el-form-item label>\n              <el-input v-model=\"activationttime.time\"></el-input>\n            </el-form-item>\n          </el-form>\n          <div slot=\"footer\" class=\"dialog-footer\">\n            <el-button @click=\"activationttime.dialog = false\">取 消</el-button>\n            <el-button type=\"primary\" @click=\"changeactivationdate\">确 定</el-button>\n          </div>\n        </el-dialog>\n        <!--分页-->\n        <el-pagination\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :page-sizes=\"[10, 20, 50, 100]\"\n          :page-size=\"pagelistquery.pagesize\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"pagelistquery.total\"\n          style=\"margin-top: 20px;\"\n        ></el-pagination>\n      </div>\n    </el-main>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from \"vuex\";\n\nexport default {\n  name: \"useruser\",\n  data() {\n    return {\n      changepassword: {}, //修改密码弹窗数据\n      changerealstateuser: {}, //正在审核的用户信息\n      changecompanystateuser: {}, //公司认证信息\n      dialogstudent: false,\n      dialogcompany: false,\n      dialogpw: false, //密码框\n      loading: false,\n      pagelistquery: {\n        realstate: \"\",\n        companystate: \"\",\n        total: 0,\n        page: 1,\n        pagesize: 10,\n        user: \"\",\n\n      },\n      tableData: [], //列表信息\n\n      activationttime: {\n        time: 0,\n        userid: \"\",\n        jubao_id: \"\",\n        dialog: false //密码框\n      }\n    };\n  },\n  computed: {\n    ...mapState({\n      uinfo: state => state.user.uinfo\n    })\n  },\n  filters: {\n    userstatefilter(state) {\n      if (state == 3) {\n        return \"认证成功\";\n      }\n      if (state == 2) {\n        return \"待审核\";\n      }\n      if (state == 1) {\n        return \"未认证\";\n      }\n      if (state == 0) {\n        return \"认证失败\";\n      }\n    }\n  },\n  methods: {\n    activationdate(row) {\n      this.activationttime.userid = row.user_id;\n      this.activationttime.dialog = true;\n    },\n    //修改账号封禁时间\n    async changeactivationdate() {\n      this.changepassword.type = \"adminuser\";\n      let res = await this.$axios.post(\n        \"/admin/changeactivationdate\",\n        this.qs.stringify(this.activationttime)\n      );\n      if (res.data.state.type === \"SUCCESS\") {\n        this.$message.success(\"操作成功\");\n        this.getuserlist();\n        this.activationttime.dialog = false;\n      }\n    },\n    async changestate(type, state, userid, companyname) {\n      let data = {\n        type: type,\n        state: state,\n        user_id: userid,\n        company_name: companyname\n      };\n      let res = await this.$axios.post(\n        \"/admin/changeuserstate\",\n        this.qs.stringify(data)\n      );\n      if (res.data.state.type === \"SUCCESS\") {\n        this.$message.success(\"操作成功成功\");\n        this.getuserlist();\n        this.dialogstudent = false;\n        this.dialogcompany = false;\n      }\n    },\n    changepw(row) {\n      console.log(111);\n      this.dialogpw = true;\n      this.changepassword = row;\n    },\n    //修改密码\n    async change() {\n      this.changepassword.type = \"adminuser\";\n      let res = await this.$axios.post(\n        \"/admin/changepassword\",\n        this.qs.stringify(this.changepassword)\n      );\n      if (res.data.state.type === \"SUCCESS\") {\n        this.$message.success(\"修改成功\");\n        this.dialogpw = false;\n      }\n    },\n    //删除用户\n\n    async deleteuser(row) {\n      let data = {\n        user_id: row.user_id,\n        usertype: \"user\"\n      };\n        this.$confirm('确认删除吗?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          this.$axios.post(\n            \"/admin/deleteuser\",\n            this.qs.stringify(data)\n          ).then(res => {\n            if (res.data.state.type === \"SUCCESS\") {\n              this.$message.success(\"删除成功\");\n              this.dialogpw = false;\n              this.getuserlist();\n            }\n          })\n        })\n    },\n    //用户状态修改\n    async changeuseruserstate(row) {\n      console.log(row);\n      let res = await this.$axios.post(\n        \"/admin/changeuseruserstate\",\n        this.qs.stringify(row)\n      );\n      if (res.data.state.type === \"SUCCESS\") {\n        this.$message.success(\"状态修改成功\");\n      }\n    },\n    //公司认证信息\n    changecompanystatedialog(user) {\n      this.changecompanystateuser = JSON.stringify(user);\n      this.changecompanystateuser = JSON.parse(this.changecompanystateuser);\n      this.changecompanystateuser.companyimg = JSON.parse(\n        this.changecompanystateuser.companyimg\n      );\n      this.dialogcompany = true;\n    },\n    //学生认证信息\n    changerealstatedialog(user) {\n      console.log(user);\n      this.changerealstateuser = JSON.stringify(user);\n      this.changerealstateuser = JSON.parse(this.changerealstateuser);\n      this.changerealstateuser.studentcard = JSON.parse(\n        this.changerealstateuser.studentcard\n      );\n      this.dialogstudent = true;\n    },\n\n    handleSizeChange(val) {\n      this.pagelistquery.pagesize = val;\n      this.getuserlist();\n      console.log(`每页 ${val} 条`);\n    },\n    handleCurrentChange(val) {\n      this.pagelistquery.page = val;\n      this.getuserlist();\n      console.log(`当前页: ${val}`);\n    },\n    async getuserlist() {\n      console.log(this.pagelistquery)\n      this.loading = true;\n      let res = await this.$axios.post(\n        \"/admin/getuserlist\",\n        this.qs.stringify(this.pagelistquery)\n      );\n      if (res.data.state.type === \"SUCCESS\") {\n        this.tableData = res.data.data;\n        console.log(res.data);\n        this.pagelistquery.total = res.data.count;\n        this.loading = false;\n      }\n    },\n    jubao() {\n      console.log(1)\n      this.pagelistquery.user = this.$route.query.user;\n      this.activationttime.jubao_id = this.$route.query.jubao_id;\n    }\n  },\n  created() {\n    this.$route.query .user&& this.jubao();\n    this.getuserlist();\n  }\n};\n</script>\n<style  scoped>\n.top {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: calc(100% - 35px);\n  padding: 12px 16px;\n  background-color: #fff;\n}\n.useruser {\n  position: relative;\n  width: 100%;\n}\n.main {\n  margin-top: 40px;\n  padding: 20px;\n  background-color: #fff;\n}\n</style>\n"]}]}